[
  {
    "objectID": "r4ds_2nd_10.html",
    "href": "r4ds_2nd_10.html",
    "title": "Layers",
    "section": "",
    "text": "해당 교재는 https://r4ds.hadley.nz/ 에서 확인하실 수 있습니다. 이 문서에 존재하는 모든 인용은 Hadley Wickham (2023) 입니다.",
    "crumbs": [
      "Home",
      "R4DS",
      "Layers"
    ]
  },
  {
    "objectID": "r4ds_2nd_10.html#introduction",
    "href": "r4ds_2nd_10.html#introduction",
    "title": "Layers",
    "section": "Introduction",
    "text": "Introduction\n이 장에서는 시각화 및 변환을 사용하여 체계적인 방식으로 데이터를 탐색하는 방법, 즉 통계학자들이 탐색적 데이터 분석 또는 줄여서 EDA라고 부르는 작업에 대해서 소개합니다.\n\n데이터에 대한 질문을 생성하세요.\n데이터를 시각화, 변환 및 모델링하여 답을 찾아보세요.\n학습한 내용을 사용하여 질문을 구체화하거나 새로운 질문을 생성합니다.\n\nEDA는 엄격한 규칙이 있는 알고리즘이나 방법론이 아닙니다. EDA는 정신 혹은 과정의 상태입니다. EDA의 초기 단계에서는 떠오르는 모든 아이디어를 자유롭게 확인해야 합니다. 이러한 아이디어 중 일부는 실현될 수도 있고 일부는 막다른 골목에 부딪힐 수도 있습니다. 탐색을 계속하다 보면 몇 가지 가능성을 발견하게 되고, 집중하게 될 것이고, 결국에는 이를 문서로 작성하여 다른 사람들에게 전달할 수 있을 것입니다.\n\nEDA is a state of mind.\n\nEDA는 모든 데이터 분석에서 중요한 부분입니다. 질문이 주어지더라도 항상 데이터의 품질을 확인해야 합니다. 데이터 정리는 데이터가 기대에 부합하는지 여부에 대한 EDA의 한 가지 응용 분야일 뿐입니다. 데이터 정리를 수행하려면 시각화, 변환, 모델링 등 EDA의 모든 방법을 활용해야 합니다.\n질문을 하고, 데이터로 답변하고, 새로운 질문을 하기 위해 dplyr 및 ggplot2에 대해 배운 내용을 함께 사용해보도록 하겠습니다.\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors",
    "crumbs": [
      "Home",
      "R4DS",
      "Layers"
    ]
  },
  {
    "objectID": "r4ds_2nd_10.html#questions",
    "href": "r4ds_2nd_10.html#questions",
    "title": "Layers",
    "section": "Questions",
    "text": "Questions\n\n“There are no routine statistical questions, only questionable statistical routines.” — Sir David Cox\n\n\n“Far better an approximate answer to the right question, which is often vague, than an exact answer to the wrong question, which can always be made precise.” — John Tukey\n\nEDA의 목표는 데이터에 대한 이해를 높이는 것입니다. 이를 위한 가장 쉬운 방법은 데이터를 찾아가는 도구로 질문을 사용하는 것입니다. 질문을 하면 데이터 집합의 특정 부분에 주의를 집중시키고 어떤 그래프, 모델 또는 변환을 만들지 결정하는 데 도움이 됩니다.\nEDA는 근본적으로 창의적인 프로세스입니다. 대부분의 창의적인 프로세스와 마찬가지로 양질의 질문을 하기 위한 핵심은 많은 양의 질문을 생성하는 것입니다. 분석을 시작할 때 데이터 집합에서 어떤 인사이트를 얻을 수 있는지 모르기 때문에, 분석의 시작 단계에서 드러나는 질문을 하기는 어렵습니다. 반면에, 새로운 질문을 할 때마다 데이터의 새로운 측면에 노출되어 발견할 가능성이 높아집니다. 발견한 내용에 따라 새로운 질문으로 후속 질문을 하면 데이터에서 가장 흥미로운 부분을 빠르게 드릴다운하고 생각을 자극하는 일련의 질문을 개발할 수 있습니다.\n연구를 안내하기 위해 어떤 질문을 해야 하는지에 대한 규칙은 없습니다. 하지만 두 가지 유형의 질문은 데이터 내에서 발견을 이끌어내는 데 항상 유용합니다. 이러한 질문은 다음과 같이 느슨하게 표현할 수 있습니다.\n\n내 변수 내에서 어떤 유형의 변이가 발생하나요?\n내 변수 간에 어떤 유형의 공변량이 발생하나요?\n\n이 장의 나머지 부분에서는 이 두 가지 질문에 대해 살펴봅니다. 변이와 공변량이 무엇인지 설명하고 각 질문에 답하는 몇 가지 방법을 보여 드리겠습니다.",
    "crumbs": [
      "Home",
      "R4DS",
      "Layers"
    ]
  },
  {
    "objectID": "r4ds_2nd_10.html#variation",
    "href": "r4ds_2nd_10.html#variation",
    "title": "Layers",
    "section": "Variation",
    "text": "Variation\n분포(Variation)란 측정할 때마다 변수의 값이 변하는 경향을 말합니다. 실생활에서 분포를 쉽게 볼 수 있는데, 연속적인 변수를 두 번 측정하면 두 가지 다른 결과를 얻을 수 있습니다. 이는 빛의 속도와 같이 일정한 양을 측정하는 경우에도 마찬가지입니다. 각 측정에는 측정마다 달라지는 소량의 오차가 포함됩니다. 다른 대상(예: 여러 사람의 눈 색깔)이나 다른 시간(예: 다른 순간의 전자의 에너지 준위)에 걸쳐 측정하는 경우에도 변수가 달라질 수 있습니다. 모든 변수에는 고유한 변화 패턴이 있으며, 이를 통해 동일한 관측에 대한 측정 간은 물론 여러 관측에 걸쳐 어떻게 변화하는지에 대한 흥미로운 정보를 얻을 수 있습니다. 이러한 패턴을 이해하는 가장 좋은 방법은 1장에서 배운 변수 값의 분포를 시각화하는 것입니다.\n다이아몬드 데이터 집합에서 약 54,000개의 다이아몬드 무게(캐럿) 분포를 시각화하여 탐색을 시작하겠습니다. 캐럿은 숫자 변수이므로 히스토그램을 사용할 수 있습니다.\n\nggplot(diamonds, aes(x = carat)) + \n  geom_histogram(binwidth = 0.5)\n\n\n\n\n\n\n\n\n이제 분포를 시각화할 수 있게 되었으니 그래프에서 무엇을 찾아야 할까요? 어떤 유형의 후속 질문을 해야 할까요? 그래프에서 찾을 수 있는 가장 유용한 정보 유형과 각 정보 유형에 대한 몇 가지 후속 질문 목록을 아래에 정리해 두었습니다. 좋은 후속 질문의 핵심은 호기심(무엇을 더 알고 싶으신가요?)과 회의론(어떻게 오해의 소지가 있을 수 있나요?)에 의존하는 것입니다.\n\nTypical values\n막대 차트와 히스토그램 모두에서 긴 막대는 변수의 일반적인 값을 나타내고, 짧은 막대는 덜 일반적인 값을 나타냅니다. 막대가 없는 부분은 데이터에서 볼 수 없었던 값을 나타냅니다. 이 정보를 유용한 질문으로 전환하려면 예상치 못한 것이 있는지 찾아보세요.\n\n가장 일반적인 값은 무엇인가요? 왜 그럴까요?\n가장 드문 값은 무엇인가요? 왜 그런가요? 기대치와 일치하나요?\n특이한 패턴이 보이나요? 이를 설명할 수 있는 것은 무엇인가요?\n\n작은 다이아몬드의 캐럿 분포를 살펴보겠습니다.\n\nsmaller &lt;- diamonds |&gt; filter(carat &lt; 3)\nggplot(smaller, aes(x = carat)) + geom_histogram(binwidth = 0.01)\n\n\n\n\n\n\n\n\n이 히스토그램은 몇 가지 흥미로운 질문을 제시합니다.\n\n전체 캐럿과 일반적인 분수 캐럿의 다이아몬드가 더 많은 이유는 무엇인가요?\n각 봉우리의 왼쪽보다 오른쪽에 약간 더 많은 다이아몬드가 있는 이유는 무엇인가요?\n\n비주얼리제이션을 통해 데이터에 하위 그룹이 존재함을 시사하는 클러스터를 확인할 수도 있습니다. 하위 그룹을 이해하려면 물어보세요.\n\n각 하위 그룹 내의 관측값은 서로 어떻게 유사합니까?\n개별 클러스터의 관측값은 서로 어떻게 다른가요?\n클러스터를 어떻게 설명하거나 설명할 수 있나요?\n클러스터의 모양이 오해의 소지가 있는 이유는 무엇인가요?\n\n이러한 질문 중 일부는 데이터로 답할 수 있지만 일부는 데이터에 대한 도메인 전문 지식이 필요합니다. 예를 들어, 한 변수의 값이 다른 변수의 동작을 설명할 수 있는지 확인하는 등 변수 간의 관계를 탐색하라는 메시지가 표시되는 경우가 많습니다. 이에 대해서는 곧 설명하겠습니다.",
    "crumbs": [
      "Home",
      "R4DS",
      "Layers"
    ]
  },
  {
    "objectID": "r4ds_2nd_10.html#unusual-values",
    "href": "r4ds_2nd_10.html#unusual-values",
    "title": "Layers",
    "section": "Unusual values",
    "text": "Unusual values\n이상값은 패턴에 맞지 않는 데이터와 같이 비정상적인 관측값을 말합니다. 이상값은 데이터 입력 오류일 때도 있고, 데이터 수집에서 우연히 관찰된 극단의 값일 때도 있으며, 중요한 새로운 발견을 암시하는 것일 때도 있습니다. 데이터가 많으면 히스토그램에서 이상값을 확인하기 어려운 경우가 있습니다. 예를 들어 다이아몬드 데이터 집합에서 y 변수의 분포를 살펴봅시다. 이상값의 유일한 증거는 X축의 한계가 비정상적으로 넓다는 것입니다.\n\nggplot(diamonds, aes(x = y)) + \n  geom_histogram(binwidth = 0.5)\n\n\n\n\n\n\n\n\n일반적인 항목은 관찰 값이 많고, 관찰 값이 작은 항목은 희소합니다. 비정상적인 값을 쉽게 보려면 coord_cartesian()을 사용하여 y축의 작은 값으로 확대해야 합니다.\n\nggplot(diamonds, aes(x = y)) + \n  geom_histogram(binwidth = 0.5) +\n  coord_cartesian(ylim = c(0, 50))\n\n\n\n\n\n\n\n\ncoord_cartesian()에는 x축을 조정하는 xlim()도 있습니다. ggplot2에는 약간 다르게 작동하는 xlim() 및 ylim() 함수도 있는데, 이들은 한계 밖의 데이터를 버립니다. 이를 통해 세 가지 특이한 값이 있음을 알 수 있습니다: 0, ~30, ~60입니다. dplyr로 이를 추출합니다.\n\nunusual &lt;- diamonds |&gt; \n  filter(y &lt; 3 | y &gt; 20) |&gt; \n  select(price, x, y, z) |&gt;\n  arrange(y)\nunusual\n\n# A tibble: 9 × 4\n  price     x     y     z\n  &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1  5139  0      0    0   \n2  6381  0      0    0   \n3 12800  0      0    0   \n4 15686  0      0    0   \n5 18034  0      0    0   \n6  2130  0      0    0   \n7  2130  0      0    0   \n8  2075  5.15  31.8  5.12\n9 12210  8.09  58.9  8.06\n\n#&gt; # A tibble: 9 × 4\n#&gt;   price     x     y     z\n#&gt;   &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n#&gt; 1  5139  0      0    0   \n#&gt; 2  6381  0      0    0   \n#&gt; 3 12800  0      0    0   \n#&gt; 4 15686  0      0    0   \n#&gt; 5 18034  0      0    0   \n#&gt; 6  2130  0      0    0   \n#&gt; 7  2130  0      0    0   \n#&gt; 8  2075  5.15  31.8  5.12\n#&gt; 9 12210  8.09  58.9  8.06\n\ny 변수는 이러한 다이아몬드의 세 가지 치수 중 하나를 mm 단위로 측정합니다. 다이아몬드의 너비가 0 mm일 수 없다는 것을 알고 있으므로 이 값은 틀린 값이어야 합니다. EDA를 수행하면서 0으로 코딩된 누락된 데이터를 발견했는데, 이는 단순히 NA를 검색했다면 결코 발견하지 못했을 것입니다.\n앞으로는 잘못된 계산을 방지하기 위해 이러한 값을 다시 NA로 변경할 수 있습니다. 32mm와 59mm`의 측정값이 믿을 수 없다고 의심할 수도 있습니다. 이 다이아몬드는 길이에 비해서 금액이 적절하지 않기 때문입니다. 결과에 미치는 영향이 미미하고 이상값이 존재하는 이유를 파악할 수 없는 경우에는 이상값을 생략하고 다음 단계로 넘어가는 것이 합리적입니다. 그러나 결과에 상당한 영향을 미치는 경우라면 정당한 이유 없이 삭제해서는 안 됩니다. 데이터 입력 오류 등의 원인을 파악하고 글에서 해당 항목을 삭제했음을 밝혀야 합니다.\n\nExercises\n\n\n\n\nsummary(select(diamonds, x, y, z))\n\n       x                y                z         \n Min.   : 0.000   Min.   : 0.000   Min.   : 0.000  \n 1st Qu.: 4.710   1st Qu.: 4.720   1st Qu.: 2.910  \n Median : 5.700   Median : 5.710   Median : 3.530  \n Mean   : 5.731   Mean   : 5.735   Mean   : 3.539  \n 3rd Qu.: 6.540   3rd Qu.: 6.540   3rd Qu.: 4.040  \n Max.   :10.740   Max.   :58.900   Max.   :31.800  \n\nggplot(diamonds) +\n  geom_histogram(mapping = aes(x = x), binwidth = 0.01)\n\n\n\n\n\n\n\n\nggplot(diamonds) +\n  geom_histogram(mapping = aes(x = y), binwidth = 0.01)\n\nggplot(diamonds) +\n  geom_histogram(mapping = aes(x = z), binwidth = 0.01)\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(filter(diamonds, price &lt; 2500), aes(x = price)) +\n  geom_histogram(binwidth = 10, center = 0)\n\n\n\n\n\n\n\n\n\nggplot(filter(diamonds), aes(x = price)) +\n  geom_histogram(binwidth = 100, center = 0)\n\n\n\n\n\n\n\n\n\ndiamonds %&gt;%\n  mutate(ending = price %% 10) %&gt;%\n  ggplot(aes(x = ending)) +\n  geom_histogram(binwidth = 1, center = 0)\n\n\n\n\n\n\n\n\n\ndiamonds %&gt;%\n  mutate(ending = price %% 100) %&gt;%\n  ggplot(aes(x = ending)) +\n  geom_histogram(binwidth = 1)\n\n\n\n\n\n\n\n\n\ndiamonds %&gt;%\n  mutate(ending = price %% 1000) %&gt;%\n  filter(ending &gt;= 500, ending &lt;= 800) %&gt;%\n  ggplot(aes(x = ending)) +\n  geom_histogram(binwidth = 1)\n\n\n\n\n\n\n\n\n\n\n\n\ndiamonds %&gt;%\n  filter(carat &gt;= 0.99, carat &lt;= 1) %&gt;%\n  count(carat)\n\n# A tibble: 2 × 2\n  carat     n\n  &lt;dbl&gt; &lt;int&gt;\n1  0.99    23\n2  1     1558\n\n\n\ndiamonds %&gt;%\n  filter(carat &gt;= 0.9, carat &lt;= 1.1) %&gt;%\n  count(carat) %&gt;%\n  print(n = Inf)\n\n# A tibble: 21 × 2\n   carat     n\n   &lt;dbl&gt; &lt;int&gt;\n 1  0.9   1485\n 2  0.91   570\n 3  0.92   226\n 4  0.93   142\n 5  0.94    59\n 6  0.95    65\n 7  0.96   103\n 8  0.97    59\n 9  0.98    31\n10  0.99    23\n11  1     1558\n12  1.01  2242\n13  1.02   883\n14  1.03   523\n15  1.04   475\n16  1.05   361\n17  1.06   373\n18  1.07   342\n19  1.08   246\n20  1.09   287\n21  1.1    278\n\n\n\n\n\n\nggplot(diamonds) +\n  geom_histogram(mapping = aes(x = price)) +\n  coord_cartesian(xlim = c(100, 5000), ylim = c(0, 3000))\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\n\n\nggplot(diamonds) +\n  geom_histogram(mapping = aes(x = price)) +\n  xlim(100, 5000) +\n  ylim(0, 3000)\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\nWarning: Removed 14714 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\nWarning: Removed 6 rows containing missing values or values outside the scale range\n(`geom_bar()`).",
    "crumbs": [
      "Home",
      "R4DS",
      "Layers"
    ]
  },
  {
    "objectID": "r4ds_2nd_10.html#unusual-values-1",
    "href": "r4ds_2nd_10.html#unusual-values-1",
    "title": "Layers",
    "section": "Unusual values",
    "text": "Unusual values\n데이터 집합에서 비정상적인 값을 발견하고 나머지 분석으로 넘어가고 싶은 경우, 두 가지 옵션이 있습니다.\n\n이상한 값이 있는 전체 행을 삭제합니다:\n\n\ndiamonds2 &lt;- diamonds |&gt; \n  filter(between(y, 3, 20))\n\n하나의 유효하지 않은 값이 있다고 해서 해당 관찰에 대한 다른 모든 값도 유효하지 않다는 의미는 아니므로 이 옵션을 권장하지 않습니다. 또한 품질이 낮은 데이터가 있는 경우 모든 변수에 이 접근 방식을 적용했을 때 남은 데이터가 없을 수도 있습니다!\n\n대신 비정상적인 값을 누락된 값으로 대체하는 것이 좋습니다.\n\n\ndiamonds2 &lt;- diamonds |&gt; \n  mutate(y = if_else(y &lt; 3 | y &gt; 20, NA, y))\n\n누락된 값을 어디에 그려야 하는지 명확하지 않으므로 ggplot2는 누락된 값을 플롯에 포함하지 않지만, 누락된 값이 제거되었음을 경고합니다.\n\nggplot(diamonds2, aes(x = x, y = y)) + \n  geom_point()\n\nWarning: Removed 9 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\n이 경고를 표시하지 않으려면 na.rm = TRUE를 설정합니다.\n\nggplot(diamonds2, aes(x = x, y = y)) + \n  geom_point(na.rm = TRUE)\n\n새 변수를 만들고 is.na()를 사용하여 dep_time이 누락되었는지 확인하면 이 작업을 수행할 수 있습니다.\n\nnycflights13::flights |&gt; \n  mutate(\n    cancelled = is.na(dep_time),\n    sched_hour = sched_dep_time %/% 100,\n    sched_min = sched_dep_time %% 100,\n    sched_dep_time = sched_hour + (sched_min / 60)\n  ) |&gt; \n  ggplot(aes(x = sched_dep_time)) + \n  geom_freqpoly(aes(color = cancelled), binwidth = 1/4)\n\n\n\n\n\n\n\n\n하지만 취소된 항공편보다 취소되지 않은 항공편이 훨씬 더 많기 때문에 이 계획은 좋지 않습니다.\n\nExercises\n\n\n\n\ndiamonds2 &lt;- diamonds %&gt;%\n  mutate(y = ifelse(y &lt; 3 | y &gt; 20, NA, y))\n\nggplot(diamonds2, aes(x = y)) +\n  geom_histogram()\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\nWarning: Removed 9 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\n\n\n\n\n\n\n\n\ndiamonds %&gt;%\n  mutate(cut = if_else(runif(n()) &lt; 0.1, NA_character_, as.character(cut))) %&gt;%\n  ggplot() +\n  geom_bar(mapping = aes(x = cut))\n\n\n\n\n\n\n\n\n\n\n\n\nmean(c(0, 1, 2, NA), na.rm = TRUE)\n\n[1] 1\n\nsum(c(0, 1, 2, NA), na.rm = TRUE)\n\n[1] 3\n\n\n\nNone",
    "crumbs": [
      "Home",
      "R4DS",
      "Layers"
    ]
  },
  {
    "objectID": "r4ds_2nd_10.html#covariation",
    "href": "r4ds_2nd_10.html#covariation",
    "title": "Layers",
    "section": "Covariation",
    "text": "Covariation\n\nA categorical and a numerical variable\n\nggplot(diamonds, aes(x = price)) + \n  geom_freqpoly(aes(color = cut), binwidth = 500, linewidth = 0.75)\n\n\n\n\n\n\n\n\nggplot2는 데이터에서 정렬된 요소 변수로 정의되기 때문에 cut에 정렬된 색 눈금을 사용합니다. 전체 개수에 의해 결정되는 높이가 ’cut’에 따라 너무 많이 달라져 분포의 모양 차이를 확인하기 어렵기 때문에 geom_freqpoly()의 기본 모양은 여기서 그다지 유용하지 않습니다.\n비교를 쉽게 하기 위해 Y축에 표시되는 내용을 바꿔야 합니다. 개수를 표시하는 대신 각 주파수 다각형 아래의 면적이 1이 되도록 표준화된 개수인 밀도를 표시합니다.\n\nggplot(diamonds, aes(x = price, y = after_stat(density))) + \n  geom_freqpoly(aes(color = cut), binwidth = 500, linewidth = 0.75)\n\n\n\n\n\n\n\n\n밀도를 ‘y’에 매핑하고 있지만 ’다이아몬드’ 데이터 집합에는 ’밀도’가 변수가 아니므로 먼저 밀도를 계산해야 합니다. 이를 위해 after_stat() 함수를 사용합니다. 이 플롯에는 다소 놀라운 점이 있는데, 가장 품질이 낮은 페어 다이아몬드의 평균 가격이 가장 높은 것으로 나타났습니다! 하지만 주파수 다각형이 해석하기 조금 어렵기 때문일 수도 있습니다. 이 플롯에는 많은 일이 일어나고 있습니다.\n이 관계를 탐색하는 데 시각적으로 더 간단한 플롯은 나란히 배치된 박스 플롯을 사용하는 것입니다.\n\nggplot(diamonds, aes(x = cut, y = price)) +\n  geom_boxplot()\n\n\n\n\n\n\n\n\n분포에 대한 정보는 훨씬 적지만, 박스 플롯이 훨씬 더 간결해져 더 쉽게 비교할 수 있고 한 플롯에 더 많은 것을 담을 수 있습니다. 이는 일반적으로 더 좋은 품질의 다이아몬드가 더 저렴하다는 반직관적인 결과를 뒷받침합니다! 연습 문제에서는 그 이유를 알아내야 합니다.\ncut은 순서가 있는 요소입니다. 즉, 보통은 좋음보다 나쁘고, 좋음은 매우 좋음보다 나쁘다는 식입니다. 많은 범주형 변수는 이러한 내재적 순서가 없으므로 더 많은 정보를 표시하기 위해 순서를 바꾸고 싶을 수 있습니다. 이를 위한 한 가지 방법은 fct_reorder()를 사용하는 것입니다. 예를 들어, mpg 데이터 집합의 class 변수를 살펴봅시다. 고속도로 주행 거리가 등급에 따라 어떻게 달라지는지 알고 싶을 수 있습니다.\n\nggplot(mpg, aes(x = class, y = hwy)) +\n  geom_boxplot()\n\n\n\n\n\n\n\n\n추세를 더 쉽게 볼 수 있도록 ’class’의 중앙값을 기준으로 ’hwy’의 순서를 바꿀 수 있습니다.\n\nggplot(mpg, aes(x = fct_reorder(class, hwy, median), y = hwy)) +\n  geom_boxplot()\n\n\n\n\n\n\n\n\n변수 이름이 긴 경우 geom_boxplot()을 90°로 뒤집으면 더 잘 작동합니다. X와 Y의 미적 매핑을 교환하면 됩니다.\n\nggplot(mpg, aes(x = hwy, y = fct_reorder(class, hwy, median))) +\n  geom_boxplot()\n\n\n\n\n\n\n\n\n\nExercises\n\nNone\nNone\nNone\nNone\nNone\nNone\n\n\n\n\nTwo categorical variables\n범주형 변수 간의 공변량을 시각화하려면 이러한 범주형 변수의 각 수준 조합에 대한 관찰 횟수를 계산해야 합니다. 이를 수행하는 한 가지 방법은 내장된 geom_count()를 사용하는 것입니다:\n\nggplot(diamonds, aes(x = cut, y = color)) +\n  geom_count()\n\n\n\n\n\n\n\n\n플롯에서 각 원의 크기는 각 값 조합에서 발생한 관찰 횟수를 표시합니다. 공변량은 특정 x 값과 특정 y 값 사이의 강한 상관관계로 나타납니다. 이러한 변수 간의 관계를 탐색하는 또 다른 접근 방식은 dplyr로 개수를 계산하는 것입니다.\n\ndiamonds |&gt; \n  count(color, cut)\n\n# A tibble: 35 × 3\n   color cut           n\n   &lt;ord&gt; &lt;ord&gt;     &lt;int&gt;\n 1 D     Fair        163\n 2 D     Good        662\n 3 D     Very Good  1513\n 4 D     Premium    1603\n 5 D     Ideal      2834\n 6 E     Fair        224\n 7 E     Good        933\n 8 E     Very Good  2400\n 9 E     Premium    2337\n10 E     Ideal      3903\n# ℹ 25 more rows\n\n\n그런 다음 geom_tile()과 채우기 미학을 사용하여 시각화합니다.\n\ndiamonds |&gt; \n  count(color, cut) |&gt;  \n  ggplot(aes(x = color, y = cut)) +\n  geom_tile(aes(fill = n))\n\n\n\n\n\n\n\n\n범주형 변수의 순서가 지정되지 않은 경우, 흥미로운 패턴을 보다 명확하게 드러내기 위해 직렬화 패키지를 사용하여 행과 열의 순서를 동시에 재정렬할 수 있습니다. 더 큰 플롯의 경우 대화형 플롯을 만드는 히트맵리 패키지를 사용해 볼 수 있습니다.\n\nExercises\n\nNone\nNone\nNone\n\n\n\n\nTwo numerical variables\n두 숫자 변수 간의 공분산을 시각화하는 한 가지 좋은 방법은 geom_point()로 산점도를 그리는 것입니다. 점의 패턴으로 공분산을 볼 수 있습니다. 예를 들어 다이아몬드의 캐럿 크기와 가격 간에 양의 관계가 있음을 알 수 있습니다. 캐럿이 많은 다이아몬드는 가격이 더 높습니다. 이 관계는 기하급수적입니다.\n\nggplot(smaller, aes(x = carat, y = price)) +\n  geom_point()\n\n\n\n\n\n\n\n\n분산형 차트는 데이터 집합의 크기가 커지면 점들이 겹치기 시작하고 균일한 검은색 영역으로 쌓이기 시작하여 2차원 공간에서 데이터 밀도의 차이를 판단하기 어려울 뿐만 아니라 추세를 파악하기 어렵게 되므로 그 유용성이 떨어집니다. 이 문제를 해결할 수 있는 한 가지 방법은 ‘알파’ 미학을 사용하여 투명도를 추가하는 것입니다.\n\nggplot(smaller, aes(x = carat, y = price)) + \n  geom_point(alpha = 1 / 100)\n\n\n\n\n\n\n\n\n\nggplot(smaller, aes(x = carat, y = price)) +\n  geom_bin2d()\n\n\n\n\n\n\n\n# install.packages(\"hexbin\")\nggplot(smaller, aes(x = carat, y = price)) +\n  geom_hex()\n\nWarning: Computation failed in `stat_binhex()`.\nCaused by error in `compute_group()`:\n! The package \"hexbin\" is required for `stat_bin_hex()`.\n\n\n\n\n\n\n\n\n\n\nggplot(smaller, aes(x = carat, y = price)) + \n  geom_boxplot(aes(group = cut_width(carat, 0.1)))\n\n\n\n\n\n\n\n\n\nExercises\n\nNone\nNone\nNone\nNone\nNone\n\n\ndiamonds |&gt; \n  filter(x &gt;= 4) |&gt; \n  ggplot(aes(x = x, y = y)) +\n  geom_point() +\n  coord_cartesian(xlim = c(4, 11), ylim = c(4, 11))\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(smaller, aes(x = carat, y = price)) + \n  geom_boxplot(aes(group = cut_number(carat, 20)))",
    "crumbs": [
      "Home",
      "R4DS",
      "Layers"
    ]
  },
  {
    "objectID": "r4ds_2nd_10.html#patterns-and-models",
    "href": "r4ds_2nd_10.html#patterns-and-models",
    "title": "Layers",
    "section": "Patterns and models",
    "text": "Patterns and models\n\nlibrary(tidymodels)\n\n── Attaching packages ────────────────────────────────────── tidymodels 1.2.0 ──\n\n\n✔ broom        1.0.7     ✔ rsample      1.2.1\n✔ dials        1.3.0     ✔ tune         1.2.1\n✔ infer        1.0.7     ✔ workflows    1.1.4\n✔ modeldata    1.4.0     ✔ workflowsets 1.1.0\n✔ parsnip      1.2.1     ✔ yardstick    1.3.1\n✔ recipes      1.1.0     \n\n\n── Conflicts ───────────────────────────────────────── tidymodels_conflicts() ──\n✖ scales::discard() masks purrr::discard()\n✖ dplyr::filter()   masks stats::filter()\n✖ recipes::fixed()  masks stringr::fixed()\n✖ dplyr::lag()      masks stats::lag()\n✖ yardstick::spec() masks readr::spec()\n✖ recipes::step()   masks stats::step()\n• Use suppressPackageStartupMessages() to eliminate package startup messages\n\ndiamonds &lt;- diamonds |&gt;\n  mutate(\n    log_price = log(price),\n    log_carat = log(carat)\n  )\n\ndiamonds_fit &lt;- linear_reg() |&gt;\n  fit(log_price ~ log_carat, data = diamonds)\n\ndiamonds_aug &lt;- augment(diamonds_fit, new_data = diamonds) |&gt;\n  mutate(.resid = exp(.resid))\n\nggplot(diamonds_aug, aes(x = carat, y = .resid)) + \n  geom_point()\n\n\n\n\n\n\n\n\n\nggplot(diamonds_aug, aes(x = cut, y = .resid)) + \n  geom_boxplot()",
    "crumbs": [
      "Home",
      "R4DS",
      "Layers"
    ]
  },
  {
    "objectID": "ggplot2.html",
    "href": "ggplot2.html",
    "title": "간단한 그래프(ggplot2)",
    "section": "",
    "text": "R 패키지를 활용하여 다양한 작업을 할 수 있지만, 저는 그 중에서 데이터 분석과 통계 분석 및 모델을 기반으로 많은 업무를 진행하였습니다. 따라서 제가 생각하기 R 패키지 중에서 가장 활용 용도가 높다고 생각하는 ggplot2을 사용해서 간단한 R 코드를 연습하고, 데이터 시각화를 진행해보겠습니다.\n\n제가 지금까지 사용했던 모든 그래프 도구 중에서 가장 멋진 라이브러리 입니다. 모든 그래프 도구가 나름의 멋짐을 가지고 있지만, ggplot2가 가져다 주는 조합의 묘미가 굉장히 흥미롭게 재미있습니다. 그리고 R을 사용함에 있어서 ggplot2를 잘 활용하면 좋은 데이터를 기반으로 더 나은 의사소통을 할 수 있습니다.\n\n\nggplot2 패키지를 사용하기 위해서는 아래와 같은 패키지를 설치하고 불러와야 합니다. 패키지 설치는 install.packages()를 사용하시면 됩니다. ggplot2, dplyr, readr은 tidyverse 패키지에 포함되어 있기 때문에, 일반적으로 tidyverse를 설치하실 때 대부분 설치되었있습니다. 만약 설치되어 있지 않다면 install.packages(\"tidyverse\")로 설치를 진행하시면 됩니다. ggthemes는 ggplot2의 테마를 추가 할 수 있는 패키지입니다.\n\nlibrary(ggplot2)\nlibrary(ggthemes) \nlibrary(dplyr) \nlibrary(readr)\nlibrary(forcats)\nlibrary(scales)\nlibrary(RColorBrewer)\n\n\n\n\n간단한 데이터를 생성하고, 이를 시각화하는 방법을 알아보겠습니다. 이 데이터는 (Mauricio Vargas Sepúlveda, 2023)에서 가져왔습니다.\n\nchilean_exports &lt;- \"year,product,export,percentage\n2006,copper,4335009500,81\n2006,others,1016726518,19\n2007,copper,9005361914,86\n2007,others,1523085299,14\n2008,copper,6907056354,80\n2008,others,1762684216,20\n2009,copper,10529811075,81\n2009,others,2464094241,19\n2010,copper,14828284450,85\n2010,others,2543015596,15\n2011,copper,15291679086,82\n2011,others,3447972354,18\n2012,copper,14630686732,80\n2012,others,3583968218,20\n2013,copper,15244038840,79\n2013,others,4051281128,21\n2014,copper,14703374241,78\n2014,others,4251484600,22\n2015,copper,13155922363,78\n2015,others,3667286912,22\n\"\nexports_data &lt;- read_csv(chilean_exports)\n\nRows: 20 Columns: 4\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): product\ndbl (3): year, export, percentage\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n\n\n\n\ncolour &lt;- c(\"#40b8d0\", \"#b2d183\")\n\np1 &lt;- ggplot(aes(y = export, x = year, colour = product), data = exports_data) +\n  geom_line(linewidth = 1.5) +\n  scale_x_continuous(breaks = seq(2006,2015,1)) +\n  labs(title = \"Composition of Exports to China ($)\",\n       subtitle = \"Source: The Observatory of Economic Complexity\") +\n  labs(x = \"Year\", y = \"USD million\") +\n  scale_colour_manual(values = colour) +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n        axis.text.x = element_text(colour = \"black\", size = 10),\n        axis.text.y = element_text(colour = \"black\", size = 10),\n        legend.key = element_rect(fill = \"white\", colour = \"white\"),\n        legend.position = \"bottom\",\n        legend.direction = \"horizontal\",\n        legend.title = element_blank(),\n        panel.grid.major = element_line(colour = \"#d3d3d3\"),\n        panel.grid.minor = element_blank(),\n        panel.background = element_blank(),\n        plot.title = element_text(family = \"MaruBuri Regular\", face = \"bold\"),\n        text = element_text(family = \"MaruBuri Regular\"),\n        legend.key.size = unit(2, \"lines\")) +\n  geom_point(size = 3)\n\nWarning: The `size` argument of `element_rect()` is deprecated as of ggplot2 3.4.0.\nℹ Please use the `linewidth` argument instead.\n\np1\n\nWarning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family\nnot found in Windows font database\n\n\nWarning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family\nnot found in Windows font database\nWarning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family\nnot found in Windows font database\nWarning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family\nnot found in Windows font database\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\n\n\n\n\n\n\n\n\n\n\n\n\n\nfill &lt;- c(\"#b2d183\",\"#40b8d0\")\n\np2 &lt;- ggplot(aes(y = export, x = year, fill = fct_rev(product)), data = exports_data) + \n  geom_area() +\n  scale_x_continuous(breaks = seq(2006,2015,1)) +\n  labs(title = \"Composition of Exports to China ($)\",\n       subtitle = \"Source: The Observatory of Economic Complexity\") +\n  labs(x = \"Year\", y = \"USD million\") +\n  scale_fill_manual(values = fill) +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n        axis.text.x = element_text(colour = \"black\", size = 10), \n        axis.text.y = element_text(colour = \"black\", size = 10), \n        legend.key = element_rect(fill = \"white\", colour = \"white\"), \n        legend.position = \"bottom\", \n        legend.direction = \"horizontal\", \n        legend.title = element_blank(),\n        panel.grid.major = element_line(colour = \"#d3d3d3\"),\n        panel.grid.minor = element_blank(),\n        panel.background = element_blank(),\n        plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"), \n        text = element_text(family = \"MaruBuri Regular\")) +\n  guides(fill = guide_legend(reverse = T)) \np2\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family\nnot found in Windows font database\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\n\n\n\n\n\n\n\n\n\n\n\n\n\nexports_data &lt;- exports_data %&gt;%\n  mutate(export_label = paste(round(export/1000000000,2), \"B\"))\n\nfill &lt;- c(\"#b2d183\",\"#40b8d0\")\n\np3 &lt;- ggplot(aes(y = export, x = year, fill = fct_rev(product)), data = exports_data) +\n  geom_col() +\n  geom_text(aes(label = export_label), position = position_stack(vjust = 0.5), colour = \"black\", family = \"Tahoma\", size = 3, show.legend = F) +\n  scale_x_continuous(breaks = seq(2006,2015,1)) +\n  labs(title = \"Composition of Exports to China ($)\", subtitle = \"Source: The Observatory of Economic Complexity\") +\n  labs(x = \"Year\", y = \"USD million\") +\n  scale_fill_manual(values = fill) +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n        axis.text.x = element_text(colour = \"black\", size = 10),\n        axis.text.y = element_text(colour = \"black\", size = 10),\n        legend.key = element_rect(fill = \"white\", colour = \"white\"),\n        legend.position = \"bottom\", legend.direction = \"horizontal\",\n        legend.title = element_blank(),\n        panel.grid.major = element_line(colour = \"#d3d3d3\"),\n        panel.grid.minor = element_blank(),\n        panel.background = element_blank(),\n        plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n        text = element_text(family = \"MaruBuri Regular\")) +\n  guides(fill = guide_legend(reverse = T))\n\np3\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\n\n\n\n\n\n\n\n\n\n\n\n\n\nfill &lt;- c(\"#b2d183\",\"#40b8d0\")\n\np4 &lt;- ggplot(aes(y = percentage, x = year, fill = fct_rev(product)), data = exports_data) +\n  geom_col() +\n  geom_text(aes(label = paste0(percentage,\"%\")), position = position_stack(vjust = 0.5), colour = \"black\", family = \"MaruBuri Regular\", size = 4) +\n  scale_x_continuous(breaks = seq(2006,2015,1)) +\n  scale_y_continuous(labels = dollar_format(suffix = \"%\", prefix = \"\")) +\n  labs(title = \"Composition of Exports to China ($)\", subtitle = \"Source: The Observatory of Economic Complexity\") +\n  labs(x = \"Year\", y = \"Percentage\") +\n  scale_fill_manual(values = fill) +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n        axis.text.x = element_text(colour = \"black\", size = 10),\n        axis.text.y = element_text(colour = \"black\", size = 10),\n        legend.key = element_rect(fill = \"white\", colour = \"white\"),\n        legend.position = \"bottom\", legend.direction = \"horizontal\",\n        legend.title = element_blank(),\n        panel.grid.major = element_line(colour = \"#d3d3d3\"),\n        panel.grid.minor = element_blank(),\n        panel.background = element_blank(),\n        plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n        text = element_text(family = \"MaruBuri Regular\")) +\n  guides(fill = guide_legend(reverse = T))\np4\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\n\n\n\n\n\n\n\n\n\n\n\n\n\ndata(airquality)\n\naq_trim &lt;- airquality %&gt;%\n  filter(Month %in% c(7,8,9)) %&gt;%\n  mutate(Month = factor(Month, labels = c(\"July\", \"August\", \"September\")))\n\nfill &lt;- c(\"steelblue\", \"yellowgreen\", \"violetred1\")\n\np5 &lt;- ggplot(aq_trim, aes(x = Day, y = Ozone, fill = Month)) +\n  geom_point(shape = 21) +\n  labs(title = \"Air Quality in New York by Day\", subtitle = \"Source: New York State Department of Conservation\") +\n  labs(x = \"Day of the month\", y = \"Ozone (ppb)\", fill = \"Months \") +\n  scale_x_continuous(breaks = seq(1, 31, 5)) +\n  scale_size(range = c(1, 10)) +\n  scale_fill_manual(values = fill) +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n    axis.text.x = element_text(colour = \"black\", size = 9),\n    axis.text.y = element_text(colour = \"black\", size = 9),\n    legend.position = \"bottom\", legend.direction = \"horizontal\",\n    panel.grid.major = element_line(colour = \"#d3d3d3\"),\n    panel.grid.minor = element_blank(),\n    panel.background = element_blank(),\n    plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n    text = element_text(family = \"MaruBuri Regular\"))\np5\n\nWarning: Removed 11 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\nWarning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family\nnot found in Windows font database\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\n\n\n\n\n\n\n\n\n\n\n\n\n\nfill &lt;- c(\"steelblue\", \"yellowgreen\", \"violetred1\")\n\np6 &lt;- ggplot(aq_trim, aes(x = Day, y = Ozone, size = Wind, fill = Month)) +\n  geom_point(shape = 21) +\n  labs(title = \"Air Quality in New York by Day\", subtitle = \"Source: New York State Department of Conservation\") +\n  labs(x = \"Day of the month\", y = \"Ozone (ppb)\", size = \"Wind Speed (mph) \", fill = \"Months \") +\n  scale_x_continuous(breaks = seq(1, 31, 5)) +\n  scale_size(range = c(1, 10)) +\n  scale_fill_manual(values = fill) +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n    axis.text.x = element_text(colour = \"black\", size = 9),\n    axis.text.y = element_text(colour = \"black\", size = 9),\n    legend.position = \"bottom\",\n    legend.direction = \"horizontal\",\n    legend.box = \"vertical\",\n    legend.key.size = unit(0.5, \"cm\"),\n    legend.key = element_blank(),\n    panel.grid.major = element_line(colour = \"#d3d3d3\"),\n    panel.grid.minor = element_blank(),\n    panel.background = element_blank(),\n    plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n    text = element_text(family = \"MaruBuri Regular\"))\np6\n\nWarning: Removed 11 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\n\n\n\n\n\n\n\n\n\n\n\n\n\ndata(airquality)\nbarfill &lt;- \"#4271AE\"; barlines &lt;- \"#1F3552\"\n\np7 &lt;- ggplot(airquality, aes(x = Ozone)) +\n  geom_histogram(aes(y = ..count..), binwidth = 5, colour = barlines, fill = barfill) +\n  scale_x_continuous(name = \"Mean ozone in\\nparts per billion\", breaks = seq(0, 175, 25), limits = c(0, 175)) +\n  scale_y_continuous(name = \"Count\") +\n  labs(title = \"Frequency histogram of mean ozone\", subtitle = \"Source: New York State Department of Conservation\") +\n  geom_vline(xintercept = 75, size = 1, colour = \"#FF3721\", linetype = \"dashed\") +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, linewidth = .5),\n    axis.text.x = element_text(colour = \"black\", size = 9),\n    axis.text.y = element_text(colour = \"black\", size = 9),\n    legend.position = \"bottom\",\n    legend.direction = \"horizontal\",\n    legend.box = \"horizontal\",\n    legend.key = element_blank(),\n    panel.grid.major = element_line(colour = \"#d3d3d3\"),\n    panel.grid.minor = element_blank(),\n    panel.background = element_blank(),\n    plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n    text = element_text(family = \"MaruBuri Regular\"))\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\np7\n\nWarning: The dot-dot notation (`..count..`) was deprecated in ggplot2 3.4.0.\nℹ Please use `after_stat(count)` instead.\n\n\nWarning: Removed 37 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_bar()`).\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\n\n\n\n\n\n\n\n\n\n\nairquality_trimmed &lt;- airquality %&gt;%\n  filter(Month %in% c(5,7)) %&gt;%\n  mutate(Month.f = factor(Month, labels = c(\"May\", \"July\")))\n\np7 &lt;- ggplot(airquality_trimmed, aes(x = Ozone)) +\n  geom_histogram(aes(y = ..count..), binwidth = 10, colour = barlines, fill = barfill) +\n  scale_x_continuous(name = \"Mean ozone in\\nparts per billion\", breaks = seq(0, 175, 25), limits = c(0, 175)) +\n  scale_y_continuous(name = \"Count\") +\n  labs(title = \"Frequency histogram of mean ozone\", subtitle = \"Source: New York State Department of Conservation\") +\n  facet_grid(. ~ Month.f, scales = \"free\") +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n    axis.text.x = element_text(colour = \"black\", size = 9),\n    axis.text.y = element_text(colour = \"black\", size = 9),\n    legend.position = \"bottom\",\n    legend.direction = \"horizontal\",\n    legend.box = \"horizontal\",\n    legend.key = element_blank(),\n    panel.grid.major = element_line(colour = \"#d3d3d3\"),\n    panel.grid.minor = element_blank(),\n    panel.background = element_blank(),\n    plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n    text = element_text(family = \"MaruBuri Regular\"))\np7  \n\nWarning: Removed 10 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_bar()`).\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\n\n\n\n\n\n\n\n\n\n\np7 &lt;- ggplot(airquality_trimmed, aes(x = Ozone, fill = Month.f)) +\n  geom_histogram(aes(y = ..count..), binwidth = 10, position = \"identity\", alpha = 0.75) +\n  scale_x_continuous(name = \"Mean ozone in\\nparts per billion\", breaks = seq(0, 175, 25), limits = c(0, 175)) +\n  scale_y_continuous(name = \"Count\") +\n  labs(title = \"Frequency histogram of mean ozone\", subtitle = \"Source: New York State Department of Conservation\") +\n  scale_fill_brewer(palette = \"Accent\") +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n    axis.text.x = element_text(colour = \"black\", size = 9),\n    axis.text.y = element_text(colour = \"black\", size = 9),\n    legend.position = \"bottom\",\n    legend.direction = \"horizontal\",\n    legend.box = \"horizontal\",\n    legend.key = element_blank(),\n    panel.grid.major = element_line(colour = \"#d3d3d3\"),\n    panel.grid.minor = element_blank(),\n    panel.background = element_blank(),\n    plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n    text = element_text(family = \"MaruBuri Regular\")) +\n  labs(fill = \"Month \")\np7\n\nWarning: Removed 10 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_bar()`).\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\n\n\n\n\n\n\n\n\n\n\n\n\n\ndata(airquality)\n\np8 &lt;- ggplot(airquality, aes(x = Ozone)) +\n  geom_density(fill = \"#4271AE\", colour = \"#1F3552\", alpha = 0.75) +\n  scale_x_continuous(name = \"Mean ozone in\\nparts per billion\", breaks = seq(0, 175, 25), limits = c(0, 175)) +\n  scale_y_continuous(name = \"Density\") +\n  labs(title = \"Density plot of mean ozone\", subtitle = \"Source: New York State Department of Conservation\") +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n    axis.text.x = element_text(colour = \"black\", size = 9),\n    axis.text.y = element_text(colour = \"black\", size = 9),\n    legend.position = \"bottom\",\n    legend.direction = \"horizontal\",\n    legend.box = \"horizontal\",\n    legend.key = element_blank(),\n    panel.grid.major = element_line(colour = \"#d3d3d3\"),\n    panel.grid.minor = element_blank(),\n    panel.background = element_blank(),\n    plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n    text = element_text(family = \"MaruBuri Regular\"))\np8\n\nWarning: Removed 37 rows containing non-finite outside the scale range\n(`stat_density()`).\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\n\n\n\n\n\n\n\n\n\n\nairquality_trimmed &lt;- airquality %&gt;%\n  filter(Month %in% c(5,6,7)) %&gt;%\n  mutate(Month.f = factor(Month, labels = c(\"May\", \"June\", \"July\")))\n\np8 &lt;- ggplot(airquality_trimmed, aes(x = Ozone, colour = Month.f)) +\n  geom_density(position = \"identity\", size = 1) +\n  scale_x_continuous(name = \"Mean ozone in\\nparts per billion\", breaks = seq(0, 200, 25), limits = c(0, 200)) +\n  scale_y_continuous(name = \"Density\") +\n  labs(title = \"Frequency histogram of mean ozone\", subtitle = \"Source: New York State Department of Conservation\") +\n  scale_colour_brewer(palette = \"Accent\") +\n  labs(colour = \"Month \") +\n  theme_bw() +\n  theme(legend.position = \"bottom\",\n        panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n        plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n        text = element_text(size = 12, family = \"MaruBuri Regular\"))\np8\n\nWarning: Removed 31 rows containing non-finite outside the scale range\n(`stat_density()`).\n\n\nWarning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family\nnot found in Windows font database\nWarning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family\nnot found in Windows font database\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\n\n\n\n\n\n\n\n\n\n\n\n\n\nfuncShaded &lt;- function(x) {\n  y &lt;- dnorm(x, mean = 0.2, sd = 0.1)\n  y[x &lt; 0.2 | x &gt; (0.2 + 4 * 0.1)] &lt;- NA\n  return(y)\n}\n\np9 &lt;- ggplot(tibble(x = c(0, 1)), aes(x = x)) +\n  stat_function(fun = dnorm, args = list(0.2, 0.1),\n                aes(colour = \"Group 1 \"), size = 1.5) +\n  stat_function(fun = dnorm, args = list(0.7, 0.05),\n                aes(colour = \"Group 2 \"), size = 1.5) +\n  stat_function(fun = funcShaded, geom = \"area\", fill = \"#84CA72\", alpha = 0.2) +\n  scale_x_continuous(name = \"Probability\", breaks = seq(0, 1, 0.2), limits = c(0, 1)) +\n  scale_y_continuous(name = \"Frequency\") +\n  labs(title = \"Normal function curves of probabilities\") +\n  labs(colour = \"Groups \") +\n  scale_colour_brewer(palette = \"Accent\") +\n  theme_bw() +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n    axis.text.x = element_text(colour = \"black\", size = 9),\n    axis.text.y = element_text(colour = \"black\", size = 9),\n    legend.position = \"bottom\",\n    legend.direction = \"horizontal\",\n    legend.box = \"horizontal\",\n    panel.grid.major = element_line(colour = \"#d3d3d3\"),\n    panel.grid.minor = element_blank(),\n    panel.background = element_blank(),\n    plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n    text = element_text(family = \"MaruBuri Regular\"))\np9\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\n\n\n\n\n\n\n\n\n\n\n\n\n\ndata(airquality)\nfill &lt;- \"#4271AE\"; lines &lt;- \"#1F3552\"\n\nairquality &lt;- airquality %&gt;%\n  mutate(Month = factor(Month,\n                        labels = c(\"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\")))\n\np10 &lt;- ggplot(airquality, aes(x = Month, y = Ozone)) +\n  geom_boxplot(colour = lines, fill = fill, size = 1, notch = TRUE) +\n  scale_y_continuous(name = \"Mean ozone in\\nparts per billion\", breaks = seq(0, 175, 25), limits = c(0, 175)) +\n  scale_x_discrete(name = \"Month\") +\n  labs(title = \"Frequency histogram of mean ozone\", subtitle = \"Source: New York State Department of Conservation\") +\n  theme_bw() +\n  theme(panel.border = element_rect(colour = \"black\", size = .5),\n    panel.grid.major = element_line(colour = \"#d3d3d3\"),\n    panel.grid.minor = element_blank(),\n    panel.background = element_blank(),\n    plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n    text = element_text(family = \"MaruBuri Regular\"),\n    axis.title = element_text(face = \"bold\"),\n    axis.text.x = element_text(colour = \"black\", size = 11),\n    axis.text.y = element_text(colour = \"black\", size = 9))\np10\n\nWarning: Removed 37 rows containing non-finite outside the scale range\n(`stat_boxplot()`).\n\n\nNotch went outside hinges\nℹ Do you want `notch = FALSE`?\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\n\n\n\n\n\n\n\n\n\n\ndata(airquality)\nfill &lt;- \"#4271AE\"; line &lt;- \"#1F3552\"\n\nairquality &lt;- airquality %&gt;%\n  mutate(Month = factor(Month,\n                        labels = c(\"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\")))\n\nairquality_trimmed &lt;- airquality %&gt;%\n  filter(Month %in% c(\"Jul\", \"Aug\", \"Sep\")) %&gt;%\n  mutate(Temp.f = factor(ifelse(Temp &gt; mean(Temp), 1, 0),\n                         labels = c(\"Low temp \", \"High temp \")))\n\np10 &lt;- ggplot(airquality_trimmed, aes(x = Month, y = Ozone)) +\n  geom_boxplot(fill = fill, colour = line, alpha = 0.7) +\n  scale_y_continuous(name = \"Mean ozone in\\nparts per billion\", breaks = seq(0, 175, 50), limits = c(0, 175)) +\n  scale_x_discrete(name = \"Month\") +\n  labs(title = \"Frequency histogram of mean ozone\", subtitle = \"Source: New York State Department of Conservation\") +\n  theme_bw() +\n  theme(plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n        panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n        text = element_text(size = 12, family = \"MaruBuri Regular\"),\n        axis.title = element_text(face = \"bold\"),\n        axis.text.x = element_text(size = 11)) +\n  facet_grid(. ~ Temp.f)\np10  \n\nWarning: Removed 11 rows containing non-finite outside the scale range\n(`stat_boxplot()`).\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database",
    "crumbs": [
      "Home",
      "R4DS",
      "간단한 그래프(ggplot2)"
    ]
  },
  {
    "objectID": "ggplot2.html#준비",
    "href": "ggplot2.html#준비",
    "title": "간단한 그래프(ggplot2)",
    "section": "",
    "text": "ggplot2 패키지를 사용하기 위해서는 아래와 같은 패키지를 설치하고 불러와야 합니다. 패키지 설치는 install.packages()를 사용하시면 됩니다. ggplot2, dplyr, readr은 tidyverse 패키지에 포함되어 있기 때문에, 일반적으로 tidyverse를 설치하실 때 대부분 설치되었있습니다. 만약 설치되어 있지 않다면 install.packages(\"tidyverse\")로 설치를 진행하시면 됩니다. ggthemes는 ggplot2의 테마를 추가 할 수 있는 패키지입니다.\n\nlibrary(ggplot2)\nlibrary(ggthemes) \nlibrary(dplyr) \nlibrary(readr)\nlibrary(forcats)\nlibrary(scales)\nlibrary(RColorBrewer)",
    "crumbs": [
      "Home",
      "R4DS",
      "간단한 그래프(ggplot2)"
    ]
  },
  {
    "objectID": "ggplot2.html#데이터",
    "href": "ggplot2.html#데이터",
    "title": "간단한 그래프(ggplot2)",
    "section": "",
    "text": "간단한 데이터를 생성하고, 이를 시각화하는 방법을 알아보겠습니다. 이 데이터는 (Mauricio Vargas Sepúlveda, 2023)에서 가져왔습니다.\n\nchilean_exports &lt;- \"year,product,export,percentage\n2006,copper,4335009500,81\n2006,others,1016726518,19\n2007,copper,9005361914,86\n2007,others,1523085299,14\n2008,copper,6907056354,80\n2008,others,1762684216,20\n2009,copper,10529811075,81\n2009,others,2464094241,19\n2010,copper,14828284450,85\n2010,others,2543015596,15\n2011,copper,15291679086,82\n2011,others,3447972354,18\n2012,copper,14630686732,80\n2012,others,3583968218,20\n2013,copper,15244038840,79\n2013,others,4051281128,21\n2014,copper,14703374241,78\n2014,others,4251484600,22\n2015,copper,13155922363,78\n2015,others,3667286912,22\n\"\nexports_data &lt;- read_csv(chilean_exports)\n\nRows: 20 Columns: 4\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (1): product\ndbl (3): year, export, percentage\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.",
    "crumbs": [
      "Home",
      "R4DS",
      "간단한 그래프(ggplot2)"
    ]
  },
  {
    "objectID": "ggplot2.html#선-그래프",
    "href": "ggplot2.html#선-그래프",
    "title": "간단한 그래프(ggplot2)",
    "section": "",
    "text": "colour &lt;- c(\"#40b8d0\", \"#b2d183\")\n\np1 &lt;- ggplot(aes(y = export, x = year, colour = product), data = exports_data) +\n  geom_line(linewidth = 1.5) +\n  scale_x_continuous(breaks = seq(2006,2015,1)) +\n  labs(title = \"Composition of Exports to China ($)\",\n       subtitle = \"Source: The Observatory of Economic Complexity\") +\n  labs(x = \"Year\", y = \"USD million\") +\n  scale_colour_manual(values = colour) +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n        axis.text.x = element_text(colour = \"black\", size = 10),\n        axis.text.y = element_text(colour = \"black\", size = 10),\n        legend.key = element_rect(fill = \"white\", colour = \"white\"),\n        legend.position = \"bottom\",\n        legend.direction = \"horizontal\",\n        legend.title = element_blank(),\n        panel.grid.major = element_line(colour = \"#d3d3d3\"),\n        panel.grid.minor = element_blank(),\n        panel.background = element_blank(),\n        plot.title = element_text(family = \"MaruBuri Regular\", face = \"bold\"),\n        text = element_text(family = \"MaruBuri Regular\"),\n        legend.key.size = unit(2, \"lines\")) +\n  geom_point(size = 3)\n\nWarning: The `size` argument of `element_rect()` is deprecated as of ggplot2 3.4.0.\nℹ Please use the `linewidth` argument instead.\n\np1\n\nWarning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family\nnot found in Windows font database\n\n\nWarning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family\nnot found in Windows font database\nWarning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family\nnot found in Windows font database\nWarning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family\nnot found in Windows font database\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database",
    "crumbs": [
      "Home",
      "R4DS",
      "간단한 그래프(ggplot2)"
    ]
  },
  {
    "objectID": "ggplot2.html#영역-차트area-chart",
    "href": "ggplot2.html#영역-차트area-chart",
    "title": "간단한 그래프(ggplot2)",
    "section": "",
    "text": "fill &lt;- c(\"#b2d183\",\"#40b8d0\")\n\np2 &lt;- ggplot(aes(y = export, x = year, fill = fct_rev(product)), data = exports_data) + \n  geom_area() +\n  scale_x_continuous(breaks = seq(2006,2015,1)) +\n  labs(title = \"Composition of Exports to China ($)\",\n       subtitle = \"Source: The Observatory of Economic Complexity\") +\n  labs(x = \"Year\", y = \"USD million\") +\n  scale_fill_manual(values = fill) +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n        axis.text.x = element_text(colour = \"black\", size = 10), \n        axis.text.y = element_text(colour = \"black\", size = 10), \n        legend.key = element_rect(fill = \"white\", colour = \"white\"), \n        legend.position = \"bottom\", \n        legend.direction = \"horizontal\", \n        legend.title = element_blank(),\n        panel.grid.major = element_line(colour = \"#d3d3d3\"),\n        panel.grid.minor = element_blank(),\n        panel.background = element_blank(),\n        plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"), \n        text = element_text(family = \"MaruBuri Regular\")) +\n  guides(fill = guide_legend(reverse = T)) \np2\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family\nnot found in Windows font database\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database",
    "crumbs": [
      "Home",
      "R4DS",
      "간단한 그래프(ggplot2)"
    ]
  },
  {
    "objectID": "ggplot2.html#막대-그래프",
    "href": "ggplot2.html#막대-그래프",
    "title": "간단한 그래프(ggplot2)",
    "section": "",
    "text": "exports_data &lt;- exports_data %&gt;%\n  mutate(export_label = paste(round(export/1000000000,2), \"B\"))\n\nfill &lt;- c(\"#b2d183\",\"#40b8d0\")\n\np3 &lt;- ggplot(aes(y = export, x = year, fill = fct_rev(product)), data = exports_data) +\n  geom_col() +\n  geom_text(aes(label = export_label), position = position_stack(vjust = 0.5), colour = \"black\", family = \"Tahoma\", size = 3, show.legend = F) +\n  scale_x_continuous(breaks = seq(2006,2015,1)) +\n  labs(title = \"Composition of Exports to China ($)\", subtitle = \"Source: The Observatory of Economic Complexity\") +\n  labs(x = \"Year\", y = \"USD million\") +\n  scale_fill_manual(values = fill) +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n        axis.text.x = element_text(colour = \"black\", size = 10),\n        axis.text.y = element_text(colour = \"black\", size = 10),\n        legend.key = element_rect(fill = \"white\", colour = \"white\"),\n        legend.position = \"bottom\", legend.direction = \"horizontal\",\n        legend.title = element_blank(),\n        panel.grid.major = element_line(colour = \"#d3d3d3\"),\n        panel.grid.minor = element_blank(),\n        panel.background = element_blank(),\n        plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n        text = element_text(family = \"MaruBuri Regular\")) +\n  guides(fill = guide_legend(reverse = T))\n\np3\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database",
    "crumbs": [
      "Home",
      "R4DS",
      "간단한 그래프(ggplot2)"
    ]
  },
  {
    "objectID": "ggplot2.html#누적-막대stacked-bar-그래프",
    "href": "ggplot2.html#누적-막대stacked-bar-그래프",
    "title": "간단한 그래프(ggplot2)",
    "section": "",
    "text": "fill &lt;- c(\"#b2d183\",\"#40b8d0\")\n\np4 &lt;- ggplot(aes(y = percentage, x = year, fill = fct_rev(product)), data = exports_data) +\n  geom_col() +\n  geom_text(aes(label = paste0(percentage,\"%\")), position = position_stack(vjust = 0.5), colour = \"black\", family = \"MaruBuri Regular\", size = 4) +\n  scale_x_continuous(breaks = seq(2006,2015,1)) +\n  scale_y_continuous(labels = dollar_format(suffix = \"%\", prefix = \"\")) +\n  labs(title = \"Composition of Exports to China ($)\", subtitle = \"Source: The Observatory of Economic Complexity\") +\n  labs(x = \"Year\", y = \"Percentage\") +\n  scale_fill_manual(values = fill) +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n        axis.text.x = element_text(colour = \"black\", size = 10),\n        axis.text.y = element_text(colour = \"black\", size = 10),\n        legend.key = element_rect(fill = \"white\", colour = \"white\"),\n        legend.position = \"bottom\", legend.direction = \"horizontal\",\n        legend.title = element_blank(),\n        panel.grid.major = element_line(colour = \"#d3d3d3\"),\n        panel.grid.minor = element_blank(),\n        panel.background = element_blank(),\n        plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n        text = element_text(family = \"MaruBuri Regular\")) +\n  guides(fill = guide_legend(reverse = T))\np4\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database",
    "crumbs": [
      "Home",
      "R4DS",
      "간단한 그래프(ggplot2)"
    ]
  },
  {
    "objectID": "ggplot2.html#산점도scatter",
    "href": "ggplot2.html#산점도scatter",
    "title": "간단한 그래프(ggplot2)",
    "section": "",
    "text": "data(airquality)\n\naq_trim &lt;- airquality %&gt;%\n  filter(Month %in% c(7,8,9)) %&gt;%\n  mutate(Month = factor(Month, labels = c(\"July\", \"August\", \"September\")))\n\nfill &lt;- c(\"steelblue\", \"yellowgreen\", \"violetred1\")\n\np5 &lt;- ggplot(aq_trim, aes(x = Day, y = Ozone, fill = Month)) +\n  geom_point(shape = 21) +\n  labs(title = \"Air Quality in New York by Day\", subtitle = \"Source: New York State Department of Conservation\") +\n  labs(x = \"Day of the month\", y = \"Ozone (ppb)\", fill = \"Months \") +\n  scale_x_continuous(breaks = seq(1, 31, 5)) +\n  scale_size(range = c(1, 10)) +\n  scale_fill_manual(values = fill) +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n    axis.text.x = element_text(colour = \"black\", size = 9),\n    axis.text.y = element_text(colour = \"black\", size = 9),\n    legend.position = \"bottom\", legend.direction = \"horizontal\",\n    panel.grid.major = element_line(colour = \"#d3d3d3\"),\n    panel.grid.minor = element_blank(),\n    panel.background = element_blank(),\n    plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n    text = element_text(family = \"MaruBuri Regular\"))\np5\n\nWarning: Removed 11 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\nWarning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family\nnot found in Windows font database\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database",
    "crumbs": [
      "Home",
      "R4DS",
      "간단한 그래프(ggplot2)"
    ]
  },
  {
    "objectID": "ggplot2.html#가중-산점도weighted-scatter",
    "href": "ggplot2.html#가중-산점도weighted-scatter",
    "title": "간단한 그래프(ggplot2)",
    "section": "",
    "text": "fill &lt;- c(\"steelblue\", \"yellowgreen\", \"violetred1\")\n\np6 &lt;- ggplot(aq_trim, aes(x = Day, y = Ozone, size = Wind, fill = Month)) +\n  geom_point(shape = 21) +\n  labs(title = \"Air Quality in New York by Day\", subtitle = \"Source: New York State Department of Conservation\") +\n  labs(x = \"Day of the month\", y = \"Ozone (ppb)\", size = \"Wind Speed (mph) \", fill = \"Months \") +\n  scale_x_continuous(breaks = seq(1, 31, 5)) +\n  scale_size(range = c(1, 10)) +\n  scale_fill_manual(values = fill) +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n    axis.text.x = element_text(colour = \"black\", size = 9),\n    axis.text.y = element_text(colour = \"black\", size = 9),\n    legend.position = \"bottom\",\n    legend.direction = \"horizontal\",\n    legend.box = \"vertical\",\n    legend.key.size = unit(0.5, \"cm\"),\n    legend.key = element_blank(),\n    panel.grid.major = element_line(colour = \"#d3d3d3\"),\n    panel.grid.minor = element_blank(),\n    panel.background = element_blank(),\n    plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n    text = element_text(family = \"MaruBuri Regular\"))\np6\n\nWarning: Removed 11 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database",
    "crumbs": [
      "Home",
      "R4DS",
      "간단한 그래프(ggplot2)"
    ]
  },
  {
    "objectID": "ggplot2.html#히스토그램histograms",
    "href": "ggplot2.html#히스토그램histograms",
    "title": "간단한 그래프(ggplot2)",
    "section": "",
    "text": "data(airquality)\nbarfill &lt;- \"#4271AE\"; barlines &lt;- \"#1F3552\"\n\np7 &lt;- ggplot(airquality, aes(x = Ozone)) +\n  geom_histogram(aes(y = ..count..), binwidth = 5, colour = barlines, fill = barfill) +\n  scale_x_continuous(name = \"Mean ozone in\\nparts per billion\", breaks = seq(0, 175, 25), limits = c(0, 175)) +\n  scale_y_continuous(name = \"Count\") +\n  labs(title = \"Frequency histogram of mean ozone\", subtitle = \"Source: New York State Department of Conservation\") +\n  geom_vline(xintercept = 75, size = 1, colour = \"#FF3721\", linetype = \"dashed\") +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, linewidth = .5),\n    axis.text.x = element_text(colour = \"black\", size = 9),\n    axis.text.y = element_text(colour = \"black\", size = 9),\n    legend.position = \"bottom\",\n    legend.direction = \"horizontal\",\n    legend.box = \"horizontal\",\n    legend.key = element_blank(),\n    panel.grid.major = element_line(colour = \"#d3d3d3\"),\n    panel.grid.minor = element_blank(),\n    panel.background = element_blank(),\n    plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n    text = element_text(family = \"MaruBuri Regular\"))\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\np7\n\nWarning: The dot-dot notation (`..count..`) was deprecated in ggplot2 3.4.0.\nℹ Please use `after_stat(count)` instead.\n\n\nWarning: Removed 37 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_bar()`).\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\n\n\n\n\n\n\n\n\n\n\nairquality_trimmed &lt;- airquality %&gt;%\n  filter(Month %in% c(5,7)) %&gt;%\n  mutate(Month.f = factor(Month, labels = c(\"May\", \"July\")))\n\np7 &lt;- ggplot(airquality_trimmed, aes(x = Ozone)) +\n  geom_histogram(aes(y = ..count..), binwidth = 10, colour = barlines, fill = barfill) +\n  scale_x_continuous(name = \"Mean ozone in\\nparts per billion\", breaks = seq(0, 175, 25), limits = c(0, 175)) +\n  scale_y_continuous(name = \"Count\") +\n  labs(title = \"Frequency histogram of mean ozone\", subtitle = \"Source: New York State Department of Conservation\") +\n  facet_grid(. ~ Month.f, scales = \"free\") +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n    axis.text.x = element_text(colour = \"black\", size = 9),\n    axis.text.y = element_text(colour = \"black\", size = 9),\n    legend.position = \"bottom\",\n    legend.direction = \"horizontal\",\n    legend.box = \"horizontal\",\n    legend.key = element_blank(),\n    panel.grid.major = element_line(colour = \"#d3d3d3\"),\n    panel.grid.minor = element_blank(),\n    panel.background = element_blank(),\n    plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n    text = element_text(family = \"MaruBuri Regular\"))\np7  \n\nWarning: Removed 10 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_bar()`).\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\n\n\n\n\n\n\n\n\n\n\np7 &lt;- ggplot(airquality_trimmed, aes(x = Ozone, fill = Month.f)) +\n  geom_histogram(aes(y = ..count..), binwidth = 10, position = \"identity\", alpha = 0.75) +\n  scale_x_continuous(name = \"Mean ozone in\\nparts per billion\", breaks = seq(0, 175, 25), limits = c(0, 175)) +\n  scale_y_continuous(name = \"Count\") +\n  labs(title = \"Frequency histogram of mean ozone\", subtitle = \"Source: New York State Department of Conservation\") +\n  scale_fill_brewer(palette = \"Accent\") +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n    axis.text.x = element_text(colour = \"black\", size = 9),\n    axis.text.y = element_text(colour = \"black\", size = 9),\n    legend.position = \"bottom\",\n    legend.direction = \"horizontal\",\n    legend.box = \"horizontal\",\n    legend.key = element_blank(),\n    panel.grid.major = element_line(colour = \"#d3d3d3\"),\n    panel.grid.minor = element_blank(),\n    panel.background = element_blank(),\n    plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n    text = element_text(family = \"MaruBuri Regular\")) +\n  labs(fill = \"Month \")\np7\n\nWarning: Removed 10 rows containing non-finite outside the scale range\n(`stat_bin()`).\n\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_bar()`).\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database",
    "crumbs": [
      "Home",
      "R4DS",
      "간단한 그래프(ggplot2)"
    ]
  },
  {
    "objectID": "ggplot2.html#밀집denstiy-그래프",
    "href": "ggplot2.html#밀집denstiy-그래프",
    "title": "간단한 그래프(ggplot2)",
    "section": "",
    "text": "data(airquality)\n\np8 &lt;- ggplot(airquality, aes(x = Ozone)) +\n  geom_density(fill = \"#4271AE\", colour = \"#1F3552\", alpha = 0.75) +\n  scale_x_continuous(name = \"Mean ozone in\\nparts per billion\", breaks = seq(0, 175, 25), limits = c(0, 175)) +\n  scale_y_continuous(name = \"Density\") +\n  labs(title = \"Density plot of mean ozone\", subtitle = \"Source: New York State Department of Conservation\") +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n    axis.text.x = element_text(colour = \"black\", size = 9),\n    axis.text.y = element_text(colour = \"black\", size = 9),\n    legend.position = \"bottom\",\n    legend.direction = \"horizontal\",\n    legend.box = \"horizontal\",\n    legend.key = element_blank(),\n    panel.grid.major = element_line(colour = \"#d3d3d3\"),\n    panel.grid.minor = element_blank(),\n    panel.background = element_blank(),\n    plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n    text = element_text(family = \"MaruBuri Regular\"))\np8\n\nWarning: Removed 37 rows containing non-finite outside the scale range\n(`stat_density()`).\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\n\n\n\n\n\n\n\n\n\n\nairquality_trimmed &lt;- airquality %&gt;%\n  filter(Month %in% c(5,6,7)) %&gt;%\n  mutate(Month.f = factor(Month, labels = c(\"May\", \"June\", \"July\")))\n\np8 &lt;- ggplot(airquality_trimmed, aes(x = Ozone, colour = Month.f)) +\n  geom_density(position = \"identity\", size = 1) +\n  scale_x_continuous(name = \"Mean ozone in\\nparts per billion\", breaks = seq(0, 200, 25), limits = c(0, 200)) +\n  scale_y_continuous(name = \"Density\") +\n  labs(title = \"Frequency histogram of mean ozone\", subtitle = \"Source: New York State Department of Conservation\") +\n  scale_colour_brewer(palette = \"Accent\") +\n  labs(colour = \"Month \") +\n  theme_bw() +\n  theme(legend.position = \"bottom\",\n        panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n        plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n        text = element_text(size = 12, family = \"MaruBuri Regular\"))\np8\n\nWarning: Removed 31 rows containing non-finite outside the scale range\n(`stat_density()`).\n\n\nWarning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family\nnot found in Windows font database\nWarning in grid.Call(C_stringMetric, as.graphicsAnnot(x$label)): font family\nnot found in Windows font database\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database",
    "crumbs": [
      "Home",
      "R4DS",
      "간단한 그래프(ggplot2)"
    ]
  },
  {
    "objectID": "ggplot2.html#function-그래프",
    "href": "ggplot2.html#function-그래프",
    "title": "간단한 그래프(ggplot2)",
    "section": "",
    "text": "funcShaded &lt;- function(x) {\n  y &lt;- dnorm(x, mean = 0.2, sd = 0.1)\n  y[x &lt; 0.2 | x &gt; (0.2 + 4 * 0.1)] &lt;- NA\n  return(y)\n}\n\np9 &lt;- ggplot(tibble(x = c(0, 1)), aes(x = x)) +\n  stat_function(fun = dnorm, args = list(0.2, 0.1),\n                aes(colour = \"Group 1 \"), size = 1.5) +\n  stat_function(fun = dnorm, args = list(0.7, 0.05),\n                aes(colour = \"Group 2 \"), size = 1.5) +\n  stat_function(fun = funcShaded, geom = \"area\", fill = \"#84CA72\", alpha = 0.2) +\n  scale_x_continuous(name = \"Probability\", breaks = seq(0, 1, 0.2), limits = c(0, 1)) +\n  scale_y_continuous(name = \"Frequency\") +\n  labs(title = \"Normal function curves of probabilities\") +\n  labs(colour = \"Groups \") +\n  scale_colour_brewer(palette = \"Accent\") +\n  theme_bw() +\n  theme(panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n    axis.text.x = element_text(colour = \"black\", size = 9),\n    axis.text.y = element_text(colour = \"black\", size = 9),\n    legend.position = \"bottom\",\n    legend.direction = \"horizontal\",\n    legend.box = \"horizontal\",\n    panel.grid.major = element_line(colour = \"#d3d3d3\"),\n    panel.grid.minor = element_blank(),\n    panel.background = element_blank(),\n    plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n    text = element_text(family = \"MaruBuri Regular\"))\np9\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database",
    "crumbs": [
      "Home",
      "R4DS",
      "간단한 그래프(ggplot2)"
    ]
  },
  {
    "objectID": "ggplot2.html#박스-플롯boxplot",
    "href": "ggplot2.html#박스-플롯boxplot",
    "title": "간단한 그래프(ggplot2)",
    "section": "",
    "text": "data(airquality)\nfill &lt;- \"#4271AE\"; lines &lt;- \"#1F3552\"\n\nairquality &lt;- airquality %&gt;%\n  mutate(Month = factor(Month,\n                        labels = c(\"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\")))\n\np10 &lt;- ggplot(airquality, aes(x = Month, y = Ozone)) +\n  geom_boxplot(colour = lines, fill = fill, size = 1, notch = TRUE) +\n  scale_y_continuous(name = \"Mean ozone in\\nparts per billion\", breaks = seq(0, 175, 25), limits = c(0, 175)) +\n  scale_x_discrete(name = \"Month\") +\n  labs(title = \"Frequency histogram of mean ozone\", subtitle = \"Source: New York State Department of Conservation\") +\n  theme_bw() +\n  theme(panel.border = element_rect(colour = \"black\", size = .5),\n    panel.grid.major = element_line(colour = \"#d3d3d3\"),\n    panel.grid.minor = element_blank(),\n    panel.background = element_blank(),\n    plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n    text = element_text(family = \"MaruBuri Regular\"),\n    axis.title = element_text(face = \"bold\"),\n    axis.text.x = element_text(colour = \"black\", size = 11),\n    axis.text.y = element_text(colour = \"black\", size = 9))\np10\n\nWarning: Removed 37 rows containing non-finite outside the scale range\n(`stat_boxplot()`).\n\n\nNotch went outside hinges\nℹ Do you want `notch = FALSE`?\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\n\n\n\n\n\n\n\n\n\n\ndata(airquality)\nfill &lt;- \"#4271AE\"; line &lt;- \"#1F3552\"\n\nairquality &lt;- airquality %&gt;%\n  mutate(Month = factor(Month,\n                        labels = c(\"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\")))\n\nairquality_trimmed &lt;- airquality %&gt;%\n  filter(Month %in% c(\"Jul\", \"Aug\", \"Sep\")) %&gt;%\n  mutate(Temp.f = factor(ifelse(Temp &gt; mean(Temp), 1, 0),\n                         labels = c(\"Low temp \", \"High temp \")))\n\np10 &lt;- ggplot(airquality_trimmed, aes(x = Month, y = Ozone)) +\n  geom_boxplot(fill = fill, colour = line, alpha = 0.7) +\n  scale_y_continuous(name = \"Mean ozone in\\nparts per billion\", breaks = seq(0, 175, 50), limits = c(0, 175)) +\n  scale_x_discrete(name = \"Month\") +\n  labs(title = \"Frequency histogram of mean ozone\", subtitle = \"Source: New York State Department of Conservation\") +\n  theme_bw() +\n  theme(plot.title = element_text(size = 14, family = \"MaruBuri Regular\", face = \"bold\"),\n        panel.border = element_rect(colour = \"black\", fill = NA, size = .5),\n        text = element_text(size = 12, family = \"MaruBuri Regular\"),\n        axis.title = element_text(face = \"bold\"),\n        axis.text.x = element_text(size = 11)) +\n  facet_grid(. ~ Temp.f)\np10  \n\nWarning: Removed 11 rows containing non-finite outside the scale range\n(`stat_boxplot()`).\n\n\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\nWarning in grid.Call(C_textBounds, as.graphicsAnnot(x$label), x$x, x$y, : font\nfamily not found in Windows font database\n\n\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database\nWarning in grid.Call.graphics(C_text, as.graphicsAnnot(x$label), x$x, x$y, :\nfont family not found in Windows font database",
    "crumbs": [
      "Home",
      "R4DS",
      "간단한 그래프(ggplot2)"
    ]
  },
  {
    "objectID": "r4ds_2nd_05.html",
    "href": "r4ds_2nd_05.html",
    "title": "Data tidying",
    "section": "",
    "text": "해당 교재는 https://r4ds.hadley.nz/ 에서 확인하실 수 있습니다. 이 문서에 존재하는 모든 인용은 Hadley Wickham (2023) 입니다.",
    "crumbs": [
      "Home",
      "R4DS",
      "Data tidying"
    ]
  },
  {
    "objectID": "r4ds_2nd_05.html#tidy-data",
    "href": "r4ds_2nd_05.html#tidy-data",
    "title": "Data tidying",
    "section": "Tidy data",
    "text": "Tidy data\n\n“Happy families are all alike; every unhappy family is unhappy in its own way.” — Leo Tolstoy, “Tidy datasets are all alike, but every messy dataset is messy in its own way.” — Hadley Wickham\n\n\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(ggthemes)\n\n\nOne of them, table1, will be much easier to work with inside the tidyverse because it’s tidy.\n\n\ntable1 # tidy!\n\n# A tibble: 6 × 4\n  country      year  cases population\n  &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;\n1 Afghanistan  1999    745   19987071\n2 Afghanistan  2000   2666   20595360\n3 Brazil       1999  37737  172006362\n4 Brazil       2000  80488  174504898\n5 China        1999 212258 1272915272\n6 China        2000 213766 1280428583\n\ntable2\n\n# A tibble: 12 × 4\n   country      year type            count\n   &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;\n 1 Afghanistan  1999 cases             745\n 2 Afghanistan  1999 population   19987071\n 3 Afghanistan  2000 cases            2666\n 4 Afghanistan  2000 population   20595360\n 5 Brazil       1999 cases           37737\n 6 Brazil       1999 population  172006362\n 7 Brazil       2000 cases           80488\n 8 Brazil       2000 population  174504898\n 9 China        1999 cases          212258\n10 China        1999 population 1272915272\n11 China        2000 cases          213766\n12 China        2000 population 1280428583\n\ntable3\n\n# A tibble: 6 × 3\n  country      year rate             \n  &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;            \n1 Afghanistan  1999 745/19987071     \n2 Afghanistan  2000 2666/20595360    \n3 Brazil       1999 37737/172006362  \n4 Brazil       2000 80488/174504898  \n5 China        1999 212258/1272915272\n6 China        2000 213766/1280428583\n\n\nThere are three interrelated rules that make a dataset tidy: - Each variable is a column; each column is a variable. - Each observation is a row; each row is an observation. - Each value is a cell; each cell is a single value.\nWhy ensure that your data is tidy? There are two main advantages: - If you have a consistent data structure, it’s easier to learn the tools that work with it because they have an underlying uniformity. - There’s a specific advantage to placing variables in columns because it allows R’s vectorized nature to shine.\n\n# Compute rate per 10,000\ntable1 |&gt;\n  mutate(rate = cases / population * 10000)\n\n# A tibble: 6 × 5\n  country      year  cases population  rate\n  &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt; &lt;dbl&gt;\n1 Afghanistan  1999    745   19987071 0.373\n2 Afghanistan  2000   2666   20595360 1.29 \n3 Brazil       1999  37737  172006362 2.19 \n4 Brazil       2000  80488  174504898 4.61 \n5 China        1999 212258 1272915272 1.67 \n6 China        2000 213766 1280428583 1.67 \n\ntable1 |&gt; \n  group_by(year) |&gt; \n  summarize(total_cases = sum(cases))\n\n# A tibble: 2 × 2\n   year total_cases\n  &lt;dbl&gt;       &lt;dbl&gt;\n1  1999      250740\n2  2000      296920\n\nggplot(table1, aes(x = year, y = cases)) +\n  geom_line(aes(group = country), color = \"grey50\") +\n  geom_point(aes(color = country, shape = country)) +\n  scale_x_continuous(breaks = c(1999, 2000)) # x-axis breaks at 1999 and 2000",
    "crumbs": [
      "Home",
      "R4DS",
      "Data tidying"
    ]
  },
  {
    "objectID": "r4ds_2nd_05.html#연습문제-5.2.1",
    "href": "r4ds_2nd_05.html#연습문제-5.2.1",
    "title": "Data tidying",
    "section": "연습문제 5.2.1",
    "text": "연습문제 5.2.1\n\n2\n\ntable2 |&gt;\n  pivot_wider(\n    names_from = type,\n    values_from = count\n  ) |&gt; \n  mutate(rate = cases / population * 10000)\n\n# A tibble: 6 × 5\n  country      year  cases population  rate\n  &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt; &lt;dbl&gt;\n1 Afghanistan  1999    745   19987071 0.373\n2 Afghanistan  2000   2666   20595360 1.29 \n3 Brazil       1999  37737  172006362 2.19 \n4 Brazil       2000  80488  174504898 4.61 \n5 China        1999 212258 1272915272 1.67 \n6 China        2000 213766 1280428583 1.67 \n\n\n\ntable3 |&gt;\n  separate_wider_delim(\n    cols = rate, \n    delim = \"/\", \n    names = c(\"cases\", \"population\"),\n  ) |&gt;\n  mutate(\n    cases = as.numeric(cases),\n    population = as.numeric(population),\n    rate = cases / population * 10000\n  )\n\n# A tibble: 6 × 5\n  country      year  cases population  rate\n  &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt; &lt;dbl&gt;\n1 Afghanistan  1999    745   19987071 0.373\n2 Afghanistan  2000   2666   20595360 1.29 \n3 Brazil       1999  37737  172006362 2.19 \n4 Brazil       2000  80488  174504898 4.61 \n5 China        1999 212258 1272915272 1.67 \n6 China        2000 213766 1280428583 1.67",
    "crumbs": [
      "Home",
      "R4DS",
      "Data tidying"
    ]
  },
  {
    "objectID": "r4ds_2nd_05.html#lengthening-data",
    "href": "r4ds_2nd_05.html#lengthening-data",
    "title": "Data tidying",
    "section": "Lengthening data",
    "text": "Lengthening data\nThe principles of tidy data might seem so obvious that you wonder if you’ll ever encounter a dataset that isn’t tidy. Unfortunately, however, most real data is untidy. There are two main reasons: - Data is often organized to facilitate some goal other than analysis. For example, it’s common for data to be structured to make data entry, not analysis, easy. - Most people aren’t familiar with the principles of tidy data, and it’s hard to derive them yourself unless you spend a lot of time working with data.\nThis means that most real analyses will require at least a little tidying. You’ll begin by figuring out what the underlying variables and observations are. Sometimes this is easy; other times you’ll need to consult with the people who originally generated the data. Next, you’ll pivot your data into a tidy form, with variables in the columns and observations in the rows.\n\nbillboard |&gt; \n  pivot_longer(\n    cols = starts_with(\"wk\"), \n    names_to = \"week\", \n    values_to = \"rank\"\n  )\n\n# A tibble: 24,092 × 5\n   artist track                   date.entered week   rank\n   &lt;chr&gt;  &lt;chr&gt;                   &lt;date&gt;       &lt;chr&gt; &lt;dbl&gt;\n 1 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk1      87\n 2 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk2      82\n 3 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk3      72\n 4 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk4      77\n 5 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk5      87\n 6 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk6      94\n 7 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk7      99\n 8 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk8      NA\n 9 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk9      NA\n10 2 Pac  Baby Don't Cry (Keep... 2000-02-26   wk10     NA\n# ℹ 24,082 more rows\n\nbillboard |&gt; \n  pivot_longer(\n    cols = starts_with(\"wk\"), \n    names_to = \"week\", \n    values_to = \"rank\",\n    values_drop_na = TRUE\n  )\n\n# A tibble: 5,307 × 5\n   artist  track                   date.entered week   rank\n   &lt;chr&gt;   &lt;chr&gt;                   &lt;date&gt;       &lt;chr&gt; &lt;dbl&gt;\n 1 2 Pac   Baby Don't Cry (Keep... 2000-02-26   wk1      87\n 2 2 Pac   Baby Don't Cry (Keep... 2000-02-26   wk2      82\n 3 2 Pac   Baby Don't Cry (Keep... 2000-02-26   wk3      72\n 4 2 Pac   Baby Don't Cry (Keep... 2000-02-26   wk4      77\n 5 2 Pac   Baby Don't Cry (Keep... 2000-02-26   wk5      87\n 6 2 Pac   Baby Don't Cry (Keep... 2000-02-26   wk6      94\n 7 2 Pac   Baby Don't Cry (Keep... 2000-02-26   wk7      99\n 8 2Ge+her The Hardest Part Of ... 2000-09-02   wk1      91\n 9 2Ge+her The Hardest Part Of ... 2000-09-02   wk2      87\n10 2Ge+her The Hardest Part Of ... 2000-09-02   wk3      92\n# ℹ 5,297 more rows\n\nbillboard_longer &lt;- billboard |&gt; \n  pivot_longer(\n    cols = starts_with(\"wk\"), \n    names_to = \"week\", \n    values_to = \"rank\",\n    values_drop_na = TRUE\n  ) |&gt; \n  mutate(\n    week = parse_number(week)\n  )\n\nbillboard_longer |&gt; \n  ggplot(aes(x = week, y = rank, group = track)) + \n  geom_line(alpha = 0.25) + \n  scale_y_reverse()\n\n\n\n\n\n\n\n\n\nHow does pivoting work?\n\ndf &lt;- tribble(\n  ~id,  ~bp1, ~bp2,\n   \"A\",  100,  120,\n   \"B\",  140,  115,\n   \"C\",  120,  125\n)\n\ndf |&gt; \n  pivot_longer(\n    cols = bp1:bp2,\n    names_to = \"measurement\",\n    values_to = \"value\"\n  )\n\n# A tibble: 6 × 3\n  id    measurement value\n  &lt;chr&gt; &lt;chr&gt;       &lt;dbl&gt;\n1 A     bp1           100\n2 A     bp2           120\n3 B     bp1           140\n4 B     bp2           115\n5 C     bp1           120\n6 C     bp2           125\n\n\n\n\nMany variables in column names\n\n[…] To organize these six pieces of information in six separate columns, we use pivot_longer() with a vector of column names for names_to and instructors for splitting the original variable names into pieces for names_sep as well as a column name for values_to\n\n\nwho2 |&gt; \n  pivot_longer(\n    cols = !(country:year),\n    names_to = c(\"diagnosis\", \"gender\", \"age\"), \n    names_sep = \"_\",\n    values_to = \"count\"\n  )\n\n# A tibble: 405,440 × 6\n   country      year diagnosis gender age   count\n   &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt;\n 1 Afghanistan  1980 sp        m      014      NA\n 2 Afghanistan  1980 sp        m      1524     NA\n 3 Afghanistan  1980 sp        m      2534     NA\n 4 Afghanistan  1980 sp        m      3544     NA\n 5 Afghanistan  1980 sp        m      4554     NA\n 6 Afghanistan  1980 sp        m      5564     NA\n 7 Afghanistan  1980 sp        m      65       NA\n 8 Afghanistan  1980 sp        f      014      NA\n 9 Afghanistan  1980 sp        f      1524     NA\n10 Afghanistan  1980 sp        f      2534     NA\n# ℹ 405,430 more rows\n\n\n\n\nData and variable names in the column headers\n\nTo solve this problem we again need to supply a vector to names_to but this time we use the special “.value” sentinel; this isn’t the name of a variable but a unique value that tells pivot_longer() to do something different. This overrides the usual values_to argument to use the first component of the pivoted column name as a variable name in the output.\n\n\nhousehold |&gt; \n  pivot_longer(\n    cols = !family, \n    names_to = c(\".value\", \"child\"), \n    names_sep = \"_\", \n    values_drop_na = TRUE\n  )\n\n# A tibble: 9 × 4\n  family child  dob        name  \n   &lt;int&gt; &lt;chr&gt;  &lt;date&gt;     &lt;chr&gt; \n1      1 child1 1998-11-26 Susan \n2      1 child2 2000-01-29 Jose  \n3      2 child1 1996-06-22 Mark  \n4      3 child1 2002-07-11 Sam   \n5      3 child2 2004-04-05 Seth  \n6      4 child1 2004-10-10 Craig \n7      4 child2 2009-08-27 Khai  \n8      5 child1 2000-12-05 Parker\n9      5 child2 2005-02-28 Gracie",
    "crumbs": [
      "Home",
      "R4DS",
      "Data tidying"
    ]
  },
  {
    "objectID": "r4ds_2nd_05.html#widening-data",
    "href": "r4ds_2nd_05.html#widening-data",
    "title": "Data tidying",
    "section": "Widening data",
    "text": "Widening data\n\ncms_patient_experience |&gt; \n  pivot_wider(\n    id_cols = starts_with(\"org\"),\n    names_from = measure_cd,\n    values_from = prf_rate\n  )\n\n# A tibble: 95 × 8\n   org_pac_id org_nm CAHPS_GRP_1 CAHPS_GRP_2 CAHPS_GRP_3 CAHPS_GRP_5 CAHPS_GRP_8\n   &lt;chr&gt;      &lt;chr&gt;        &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;\n 1 0446157747 USC C…          63          87          86          57          85\n 2 0446162697 ASSOC…          59          85          83          63          88\n 3 0547164295 BEAVE…          49          NA          75          44          73\n 4 0749333730 CAPE …          67          84          85          65          82\n 5 0840104360 ALLIA…          66          87          87          64          87\n 6 0840109864 REX H…          73          87          84          67          91\n 7 0840513552 SCL H…          58          83          76          58          78\n 8 0941545784 GRITM…          46          86          81          54          NA\n 9 1052612785 COMMU…          65          84          80          58          87\n10 1254237779 OUR L…          61          NA          NA          65          NA\n# ℹ 85 more rows\n# ℹ 1 more variable: CAHPS_GRP_12 &lt;dbl&gt;\n\n\n\ndf &lt;- tribble(\n  ~id, ~measurement, ~value,\n  \"A\",        \"bp1\",    100,\n  \"B\",        \"bp1\",    140,\n  \"B\",        \"bp2\",    115, \n  \"A\",        \"bp2\",    120,\n  \"A\",        \"bp3\",    105\n)\n\ndf |&gt; \n  pivot_wider(\n    names_from = measurement,\n    values_from = value\n  )\n\n# A tibble: 2 × 4\n  id      bp1   bp2   bp3\n  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 A       100   120   105\n2 B       140   115    NA\n\ndf |&gt; \n  distinct(measurement) |&gt; \n  pull()\n\n[1] \"bp1\" \"bp2\" \"bp3\"\n\ndf |&gt; \n  select(-measurement, -value) |&gt; \n  distinct()\n\n# A tibble: 2 × 1\n  id   \n  &lt;chr&gt;\n1 A    \n2 B    \n\ndf |&gt; \n  select(-measurement, -value) |&gt; \n  distinct() |&gt; \n  mutate(x = NA, y = NA, z = NA)\n\n# A tibble: 2 × 4\n  id    x     y     z    \n  &lt;chr&gt; &lt;lgl&gt; &lt;lgl&gt; &lt;lgl&gt;\n1 A     NA    NA    NA   \n2 B     NA    NA    NA   \n\n\n\ndf &lt;- tribble(\n  ~id, ~measurement, ~value,\n  \"A\",        \"bp1\",    100,\n  \"A\",        \"bp1\",    102,\n  \"A\",        \"bp2\",    120,\n  \"B\",        \"bp1\",    140, \n  \"B\",        \"bp2\",    115\n)\n\ndf |&gt;\n  pivot_wider(\n    names_from = measurement,\n    values_from = value\n  )\n\nWarning: Values from `value` are not uniquely identified; output will contain list-cols.\n• Use `values_fn = list` to suppress this warning.\n• Use `values_fn = {summary_fun}` to summarise duplicates.\n• Use the following dplyr code to identify duplicates.\n  {data} |&gt;\n  dplyr::summarise(n = dplyr::n(), .by = c(id, measurement)) |&gt;\n  dplyr::filter(n &gt; 1L)\n\n\n# A tibble: 2 × 3\n  id    bp1       bp2      \n  &lt;chr&gt; &lt;list&gt;    &lt;list&gt;   \n1 A     &lt;dbl [2]&gt; &lt;dbl [1]&gt;\n2 B     &lt;dbl [1]&gt; &lt;dbl [1]&gt;\n\ndf |&gt; \n  group_by(id, measurement) |&gt; \n  summarize(n = n(), .groups = \"drop\") |&gt; \n  filter(n &gt; 1)\n\n# A tibble: 1 × 3\n  id    measurement     n\n  &lt;chr&gt; &lt;chr&gt;       &lt;int&gt;\n1 A     bp1             2",
    "crumbs": [
      "Home",
      "R4DS",
      "Data tidying"
    ]
  },
  {
    "objectID": "r4ds_2nd_07.html",
    "href": "r4ds_2nd_07.html",
    "title": "Data import",
    "section": "",
    "text": "해당 교재는 https://r4ds.hadley.nz/ 에서 확인하실 수 있습니다. 이 문서에 존재하는 모든 인용은 Hadley Wickham (2023) 입니다.\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors",
    "crumbs": [
      "Home",
      "R4DS",
      "Data import"
    ]
  },
  {
    "objectID": "r4ds_2nd_07.html#reading-data-from-a-file",
    "href": "r4ds_2nd_07.html#reading-data-from-a-file",
    "title": "Data import",
    "section": "Reading data from a file",
    "text": "Reading data from a file\n\nstudents &lt;- read_csv(\"data/students.csv\")\n\nRows: 6 Columns: 5\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (4): Full Name, favourite.food, mealPlan, AGE\ndbl (1): Student ID\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nstudents &lt;- read_csv(\"data/students.csv\", na = c(\"N/A\", \"\"))\n\nRows: 6 Columns: 5\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (4): Full Name, favourite.food, mealPlan, AGE\ndbl (1): Student ID\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n\nstudents |&gt; \n  rename(\n    student_id = `Student ID`,\n    full_name = `Full Name`\n  )\n\n# A tibble: 6 × 5\n  student_id full_name        favourite.food     mealPlan            AGE  \n       &lt;dbl&gt; &lt;chr&gt;            &lt;chr&gt;              &lt;chr&gt;               &lt;chr&gt;\n1          1 Sunil Huffmann   Strawberry yoghurt Lunch only          4    \n2          2 Barclay Lynn     French fries       Lunch only          5    \n3          3 Jayendra Lyne    &lt;NA&gt;               Breakfast and lunch 7    \n4          4 Leon Rossini     Anchovies          Lunch only          &lt;NA&gt; \n5          5 Chidiegwu Dunkel Pizza              Breakfast and lunch five \n6          6 Güvenç Attila    Ice cream          Lunch only          6    \n\n\n\nstudents |&gt; janitor::clean_names()\n\n# A tibble: 6 × 5\n  student_id full_name        favourite_food     meal_plan           age  \n       &lt;dbl&gt; &lt;chr&gt;            &lt;chr&gt;              &lt;chr&gt;               &lt;chr&gt;\n1          1 Sunil Huffmann   Strawberry yoghurt Lunch only          4    \n2          2 Barclay Lynn     French fries       Lunch only          5    \n3          3 Jayendra Lyne    &lt;NA&gt;               Breakfast and lunch 7    \n4          4 Leon Rossini     Anchovies          Lunch only          &lt;NA&gt; \n5          5 Chidiegwu Dunkel Pizza              Breakfast and lunch five \n6          6 Güvenç Attila    Ice cream          Lunch only          6    \n\n\n\nstudents |&gt;\n  janitor::clean_names() |&gt;\n  mutate(meal_plan = factor(meal_plan))\n\n# A tibble: 6 × 5\n  student_id full_name        favourite_food     meal_plan           age  \n       &lt;dbl&gt; &lt;chr&gt;            &lt;chr&gt;              &lt;fct&gt;               &lt;chr&gt;\n1          1 Sunil Huffmann   Strawberry yoghurt Lunch only          4    \n2          2 Barclay Lynn     French fries       Lunch only          5    \n3          3 Jayendra Lyne    &lt;NA&gt;               Breakfast and lunch 7    \n4          4 Leon Rossini     Anchovies          Lunch only          &lt;NA&gt; \n5          5 Chidiegwu Dunkel Pizza              Breakfast and lunch five \n6          6 Güvenç Attila    Ice cream          Lunch only          6    \n\n\n\nstudents &lt;- students |&gt;\n  janitor::clean_names() |&gt;\n  mutate(\n    meal_plan = factor(meal_plan),\n    age = parse_number(if_else(age == \"five\", \"5\", age))\n  )\n\n\n연습문제 7.2.4\n\nannoying &lt;- tibble(\n  `1` = 1:10,\n  `2` = `1` * 2 + rnorm(length(`1`))\n)\n\nannoying |&gt;\n  select(`1`)\n\n# A tibble: 10 × 1\n     `1`\n   &lt;int&gt;\n 1     1\n 2     2\n 3     3\n 4     4\n 5     5\n 6     6\n 7     7\n 8     8\n 9     9\n10    10\n\nggplot(annoying, aes(x = `2`, y = `1`)) +\n  geom_point()\n\n\n\n\n\n\n\nannoying |&gt;\n  mutate(`3` = `2` / `1`)\n\n# A tibble: 10 × 3\n     `1`   `2`   `3`\n   &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1     1  1.76  1.76\n 2     2  5.20  2.60\n 3     3  6.47  2.16\n 4     4  7.56  1.89\n 5     5  9.88  1.98\n 6     6 13.4   2.23\n 7     7 13.6   1.95\n 8     8 16.2   2.03\n 9     9 18.5   2.05\n10    10 21.4   2.14\n\nannoying |&gt;\n  mutate(`3` = `2` / `1`) |&gt;\n  rename(\n    \"one\" = `1`,\n    \"two\" = `2`,\n    \"three\" = `3`\n  )\n\n# A tibble: 10 × 3\n     one   two three\n   &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;\n 1     1  1.76  1.76\n 2     2  5.20  2.60\n 3     3  6.47  2.16\n 4     4  7.56  1.89\n 5     5  9.88  1.98\n 6     6 13.4   2.23\n 7     7 13.6   1.95\n 8     8 16.2   2.03\n 9     9 18.5   2.05\n10    10 21.4   2.14",
    "crumbs": [
      "Home",
      "R4DS",
      "Data import"
    ]
  },
  {
    "objectID": "r4ds_2nd_07.html#data-entry",
    "href": "r4ds_2nd_07.html#data-entry",
    "title": "Data import",
    "section": "Data entry",
    "text": "Data entry\n\ntribble(\n  ~x, ~y, ~z,\n  1, \"h\", 0.08,\n  2, \"m\", 0.83,\n  5, \"g\", 0.60\n)\n\n# A tibble: 3 × 3\n      x y         z\n  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;\n1     1 h      0.08\n2     2 m      0.83\n3     5 g      0.6",
    "crumbs": [
      "Home",
      "R4DS",
      "Data import"
    ]
  },
  {
    "objectID": "r4ds_2nd_08.html",
    "href": "r4ds_2nd_08.html",
    "title": "Workflow - getting help",
    "section": "",
    "text": "해당 교재는 https://r4ds.hadley.nz/ 에서 확인하실 수 있습니다. 이 문서에 존재하는 모든 인용은 Hadley Wickham (2023) 입니다.\n[…] 답이 없는 문제를 발견하게 될 때, 어디서 도움을 받을 수 있을까요?",
    "crumbs": [
      "Home",
      "R4DS",
      "Workflow - getting help"
    ]
  },
  {
    "objectID": "r4ds_2nd_08.html#google-is-your-friend",
    "href": "r4ds_2nd_08.html#google-is-your-friend",
    "title": "Workflow - getting help",
    "section": "Google is your friend",
    "text": "Google is your friend\n막막하다면 Google부터 시작하세요. 일반적으로 검색어에 “R”, “tidyverse” 또는 “ggplot2”와 같은 추가적인 정보를 검색어에 포함하세요. Google은 오류 메시지에 특히 유용합니다. 오류 메시지가 표시되었는데 무슨 뜻인지 모르겠다면 Google에서 검색해 보세요! 만약, 오류 메시지가 영어로 되어 있지 않은 경우 Sys.setenv(LANGUAGE = \"en\")를 실행하고 코드를 다시 실행하면 오류가 영어로 출력됩니다.\n구글과 함께 Stack Overflow도 함께 참고하세요.",
    "crumbs": [
      "Home",
      "R4DS",
      "Workflow - getting help"
    ]
  },
  {
    "objectID": "r4ds_2nd_08.html#making-a-reprex",
    "href": "r4ds_2nd_08.html#making-a-reprex",
    "title": "Workflow - getting help",
    "section": "Making a reprex",
    "text": "Making a reprex\n인터넷 검색에서 유용한 정보를 찾지 못했다면 재현 가능한 최소한의 예제를 뜻하는 reprex를 준비하는 것이 좋습니다. 좋은 reprex를 만들면 다른 사람들이 더 쉽게 도움을 줄 수 있고, 만드는 과정에서 스스로 문제를 파악할 수 있는 경우가 많습니다. 레프렉스를 만드는 데는 두 가지 부분이 있습니다.\n\n첫째, 코드를 재현 가능하게 만들어야 합니다. 즉, 모든 library() 호출을 포함하고 필요한 모든 객체를 생성하는 등 모든 것을 캡처해야 합니다. 이를 확인하는 가장 쉬운 방법은 reprex 패키지를 사용하는 것입니다.\n둘째, 최소한으로 만들어야 합니다. 문제와 직접 관련이 없는 모든 것을 제거하세요. 여기에는 일반적으로 실생활에서 직면하는 문제보다 훨씬 작고 단순한 R 개체를 만들거나 내장된 데이터를 사용하는 것이 포함됩니다.\n\n많은 작업처럼 들립니다! 그럴 수도 있지만 그만한 보상이 있습니다.\n\n80%의 경우, 훌륭한 레프렉스를 만들면 문제의 원인을 파악할 수 있습니다. 독립적이고 최소한의 예시를 작성하는 과정에서 스스로 질문에 답할 수 있는 경우가 얼마나 많은지 놀라울 정도입니다.\n나머지 20%의 시간에는 다른 사람들이 쉽게 사용할 수 있는 방식으로 문제의 본질을 파악하게 됩니다. 이렇게 하면 도움을 받을 가능성이 크게 높아집니다!\n\n수작업으로 reprex를 만들 때는 실수로 무언가를 놓치기 쉬우므로 다른 사람의 컴퓨터에서 코드를 실행할 수 없게 됩니다. tidyverse의 일부로 설치되는 reprex 패키지를 사용하면 이 문제를 방지할 수 있습니다.\n\ny &lt;- 1:4\nmean(y)\n\n[1] 2.5\n\n\n그런 다음 기본 출력 형식이 GitHub용으로 지정된 reprex()를 호출합니다.\n\nreprex::reprex(y)\n\nℹ Non-interactive session, setting `html_preview = FALSE`.\n\n\nℹ Rendering reprex...\n\n\nCLIPR_ALLOW has not been set, so clipr will not run interactively\n\n\n멋지게 렌더링된 HTML 미리 보기가 RStudio의 뷰어(RStudio를 사용하는 경우) 또는 기본 브라우저에 표시됩니다. 클립보드에 자동으로 복사됩니다. 이 텍스트는 마크다운이라는 방식으로 작성되며, 마크다운을 StackOverflow나 Github 같은 사이트에 붙여넣으면 코드처럼 보이도록 자동으로 렌더링됩니다.\n누구나 바로 복사하여 붙여넣고 실행할 수 있습니다. 예제를 재현 가능하게 만들려면 필수 패키지, 데이터, 코드 세 가지를 포함해야 합니다.\n\n예제에 필요한 패키지를 쉽게 확인할 수 있도록 스크립트의 맨 위에 패키지가 로드되어야 합니다. 패키지를 설치하거나 마지막으로 업데이트한 이후 수정된 버그를 발견했을 수 있으므로 각 패키지의 최신 버전을 사용하고 있는지 확인하기에 좋은 시기입니다. tidyverse에 있는 패키지의 경우 가장 쉽게 확인할 수 있는 방법은 tidyverse_update()를 실행하는 것입니다.\n데이터를 포함하는 가장 쉬운 방법은 dput()을 사용하여 데이터를 다시 생성하는 데 필요한 R 코드를 생성하는 것입니다. 예를 들어, R에서 mtcars 데이터 집합을 다시 만들려면 다음 단계를 수행합니다.\n\n\nR에서 dput(mtcars)를 실행합니다.\n출력 복사\nreprex에서 mtcars &lt;-를 입력한 다음 붙여넣습니다.\n\n\ndput(mtcars)\n\nstructure(list(mpg = c(21, 21, 22.8, 21.4, 18.7, 18.1, 14.3, \n24.4, 22.8, 19.2, 17.8, 16.4, 17.3, 15.2, 10.4, 10.4, 14.7, 32.4, \n30.4, 33.9, 21.5, 15.5, 15.2, 13.3, 19.2, 27.3, 26, 30.4, 15.8, \n19.7, 15, 21.4), cyl = c(6, 6, 4, 6, 8, 6, 8, 4, 4, 6, 6, 8, \n8, 8, 8, 8, 8, 4, 4, 4, 4, 8, 8, 8, 8, 4, 4, 4, 8, 6, 8, 4), \n    disp = c(160, 160, 108, 258, 360, 225, 360, 146.7, 140.8, \n    167.6, 167.6, 275.8, 275.8, 275.8, 472, 460, 440, 78.7, 75.7, \n    71.1, 120.1, 318, 304, 350, 400, 79, 120.3, 95.1, 351, 145, \n    301, 121), hp = c(110, 110, 93, 110, 175, 105, 245, 62, 95, \n    123, 123, 180, 180, 180, 205, 215, 230, 66, 52, 65, 97, 150, \n    150, 245, 175, 66, 91, 113, 264, 175, 335, 109), drat = c(3.9, \n    3.9, 3.85, 3.08, 3.15, 2.76, 3.21, 3.69, 3.92, 3.92, 3.92, \n    3.07, 3.07, 3.07, 2.93, 3, 3.23, 4.08, 4.93, 4.22, 3.7, 2.76, \n    3.15, 3.73, 3.08, 4.08, 4.43, 3.77, 4.22, 3.62, 3.54, 4.11\n    ), wt = c(2.62, 2.875, 2.32, 3.215, 3.44, 3.46, 3.57, 3.19, \n    3.15, 3.44, 3.44, 4.07, 3.73, 3.78, 5.25, 5.424, 5.345, 2.2, \n    1.615, 1.835, 2.465, 3.52, 3.435, 3.84, 3.845, 1.935, 2.14, \n    1.513, 3.17, 2.77, 3.57, 2.78), qsec = c(16.46, 17.02, 18.61, \n    19.44, 17.02, 20.22, 15.84, 20, 22.9, 18.3, 18.9, 17.4, 17.6, \n    18, 17.98, 17.82, 17.42, 19.47, 18.52, 19.9, 20.01, 16.87, \n    17.3, 15.41, 17.05, 18.9, 16.7, 16.9, 14.5, 15.5, 14.6, 18.6\n    ), vs = c(0, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, \n    0, 1, 1, 1, 1, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1), am = c(1, \n    1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, \n    0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1), gear = c(4, 4, 4, 3, \n    3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 4, 4, 4, 3, 3, 3, \n    3, 3, 4, 5, 5, 5, 5, 5, 4), carb = c(4, 4, 1, 1, 2, 1, 4, \n    2, 2, 4, 4, 3, 3, 3, 4, 4, 4, 1, 2, 1, 1, 2, 2, 4, 2, 1, \n    2, 2, 4, 6, 8, 2)), row.names = c(\"Mazda RX4\", \"Mazda RX4 Wag\", \n\"Datsun 710\", \"Hornet 4 Drive\", \"Hornet Sportabout\", \"Valiant\", \n\"Duster 360\", \"Merc 240D\", \"Merc 230\", \"Merc 280\", \"Merc 280C\", \n\"Merc 450SE\", \"Merc 450SL\", \"Merc 450SLC\", \"Cadillac Fleetwood\", \n\"Lincoln Continental\", \"Chrysler Imperial\", \"Fiat 128\", \"Honda Civic\", \n\"Toyota Corolla\", \"Toyota Corona\", \"Dodge Challenger\", \"AMC Javelin\", \n\"Camaro Z28\", \"Pontiac Firebird\", \"Fiat X1-9\", \"Porsche 914-2\", \n\"Lotus Europa\", \"Ford Pantera L\", \"Ferrari Dino\", \"Maserati Bora\", \n\"Volvo 142E\"), class = \"data.frame\")\n\nreprex::reprex(mtcars)\n\nℹ Non-interactive session, setting `html_preview = FALSE`.\n\n\nℹ Rendering reprex...\n\n\n\n다른 사람들이 코드를 쉽게 읽을 수 있도록 약간의 시간을 투자하세요.\n\n\n변수 등을 올바로 사용했는지 확인하세요.\n주석을 사용해서 문제가 발생한 부분에 적절한 정보를 추가하세요.\n문제와 관련이 없는 모든 것은 제거하세요.\n\n새로운 세션을 시작하고, 작성된 스크립트가 재현 가능한 예제인지 확인하세요. 만약, 재현 가능하지 않다면 유사한 예제를 만들 수 있도록 연습해야 합니다. 코드가 포함된 질문을 하는 법을 배우고, 재현 가능하도록 R과 관려된 기술에 시간을 투자하세요.",
    "crumbs": [
      "Home",
      "R4DS",
      "Workflow - getting help"
    ]
  },
  {
    "objectID": "r4ds_2nd_08.html#investing-in-yourself",
    "href": "r4ds_2nd_08.html#investing-in-yourself",
    "title": "Workflow - getting help",
    "section": "Investing in yourself",
    "text": "Investing in yourself\n문제가 발생하기 전에 문제를 해결할 수 있도록 준비하는 데 시간을 투자하세요. 사용하시는 라이브러리에 대해서 더 깊게 공부하시거나, 주변의 R 관련 커뮤니티를 방문하세요.",
    "crumbs": [
      "Home",
      "R4DS",
      "Workflow - getting help"
    ]
  },
  {
    "objectID": "r4ds_2nd_08.html#summary",
    "href": "r4ds_2nd_08.html#summary",
    "title": "Workflow - getting help",
    "section": "Summary",
    "text": "Summary\n이 장으로 이 책의 전체 게임 부분을 마무리합니다. 이제 데이터 과학 프로세스에서 가장 중요한 부분인 시각화, 변환, 정리 및 가져오기를 살펴보았습니다. 이제 전체 프로세스에 대한 전체적인 관점을 갖게 되었으니, 이제 작은 부분의 세부 사항을 살펴보기 시작하겠습니다.\n이 책의 다음 파트인 시각화에서는 그래픽 문법을 자세히 살펴보고, ggplot2로 데이터 시각화를 만들고, 지금까지 배운 도구를 사용하여 탐색적 데이터 분석을 수행하는 방법을 보여주고, 커뮤니케이션을 위한 플롯을 만드는 모범 사례를 소개합니다.",
    "crumbs": [
      "Home",
      "R4DS",
      "Workflow - getting help"
    ]
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "Summary",
    "section": "",
    "text": "Summary\nIn summary, this book has no content whatsoever.\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "References"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Preface",
    "section": "",
    "text": "꽤 오랫동안 R을 사용했습니다. 정확히는 협업에서 R을 사용했습니다. 데이터 분석이나 추천시스템을 전문적으로 배우지 못하고, 현장에서 추천시스템을 개발/개선하는 업무를 진행했기 때문에 다양한 도구를 많이 사용했습니다. 그 중에서 데이터를 다루는 분들과 의사소통을 위해서 가장 많이 활용했던 도구가 R과 Excel 입니다. 기존에 관련 연구자 및 분석가분들과 함께 공부를 하면서 알게된 내용을 간단하게 정리해둔 문서입니다. 이 문서는 R을 사용하는 분들이나 데이터 분석을 하시는 분들에게 도움이 되었으면 좋겠습니다.\nP.S : 해당 저장소는 R언어를 사용하는 분들의 관례에 따라 renv를 사용하고 있습니다. 해당 프로젝트를 renv를 사용하세요.",
    "crumbs": [
      "Home",
      "Preface"
    ]
  },
  {
    "objectID": "index.html#소개",
    "href": "index.html#소개",
    "title": "Preface",
    "section": "",
    "text": "꽤 오랫동안 R을 사용했습니다. 정확히는 협업에서 R을 사용했습니다. 데이터 분석이나 추천시스템을 전문적으로 배우지 못하고, 현장에서 추천시스템을 개발/개선하는 업무를 진행했기 때문에 다양한 도구를 많이 사용했습니다. 그 중에서 데이터를 다루는 분들과 의사소통을 위해서 가장 많이 활용했던 도구가 R과 Excel 입니다. 기존에 관련 연구자 및 분석가분들과 함께 공부를 하면서 알게된 내용을 간단하게 정리해둔 문서입니다. 이 문서는 R을 사용하는 분들이나 데이터 분석을 하시는 분들에게 도움이 되었으면 좋겠습니다.\nP.S : 해당 저장소는 R언어를 사용하는 분들의 관례에 따라 renv를 사용하고 있습니다. 해당 프로젝트를 renv를 사용하세요.",
    "crumbs": [
      "Home",
      "Preface"
    ]
  },
  {
    "objectID": "r4ds_2nd_06.html",
    "href": "r4ds_2nd_06.html",
    "title": "Workflow - scripts and projects",
    "section": "",
    "text": "해당 교재는 https://r4ds.hadley.nz/ 에서 확인하실 수 있습니다. 이 문서에 존재하는 모든 인용은 Hadley Wickham (2023) 입니다.\n\n\nscripts and projects give you a solid workflow that will serve you well in the future:\n\nCreate one RStudio project for each data analysis project.\nSave your scripts (with informative names) in the project, edit them, run them in bits or as a whole.\nRestart R frequently to make sure you’ve captured everything in your scripts.\nOnly ever use relative paths, not absolute paths.\nThen everything you need is in one place and cleanly separated from all the other projects that you are working on.\n\n\n\n\n\n\nReferences\n\nHadley Wickham, G. G. (2023). R for data science 2nd. O’Reilly Media.",
    "crumbs": [
      "Home",
      "R4DS",
      "Workflow - scripts and projects"
    ]
  },
  {
    "objectID": "r4ds_2nd_02.html",
    "href": "r4ds_2nd_02.html",
    "title": "Workflow - basics",
    "section": "",
    "text": "해당 교재는 https://r4ds.hadley.nz/ 에서 확인하실 수 있습니다. 이 문서에 존재하는 모든 인용은 Hadley Wickham (2023) 입니다.\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(palmerpenguins)\nlibrary(ggthemes)",
    "crumbs": [
      "Home",
      "R4DS",
      "Workflow - basics"
    ]
  },
  {
    "objectID": "r4ds_2nd_02.html#코딩에-관한-사항",
    "href": "r4ds_2nd_02.html#코딩에-관한-사항",
    "title": "Workflow - basics",
    "section": "코딩에 관한 사항",
    "text": "코딩에 관한 사항\n\nR 코딩에 관한 기초적인 사항(변수, 제어문, 함수)에 대해선 별도의 교재를 활용해서 연습을 하세요.\n\n데이터 분석에 필요한 기초적인 사항을 위해서 별도의 코딩 테스트나 알고리즘 연습을 하실 필요는 없습니다.\n\n주석을 활용하는 방법을 연습하세요. 데이터 분석 과정에서 발생하는 의사결정이나 자료를 코드에 남겨두고 기록물로 보관하기 위해선 주석을 활용하는 방법은 연습해 주세요.\n\nQuarto(Quarto (n.d.))\nKnitr(Xie (2015), Xie (2024))",
    "crumbs": [
      "Home",
      "R4DS",
      "Workflow - basics"
    ]
  },
  {
    "objectID": "r4ds_2nd_04.html",
    "href": "r4ds_2nd_04.html",
    "title": "Workflow - code style",
    "section": "",
    "text": "해당 교재는 https://r4ds.hadley.nz/ 에서 확인하실 수 있습니다. 이 문서에 존재하는 모든 인용은 Hadley Wickham (2023) 입니다.\nlibrary(tidyverse)\nlibrary(nycflights13)\nlibrary(ggthemes)",
    "crumbs": [
      "Home",
      "R4DS",
      "Workflow - code style"
    ]
  },
  {
    "objectID": "r4ds_2nd_04.html#naems",
    "href": "r4ds_2nd_04.html#naems",
    "title": "Workflow - code style",
    "section": "Naems",
    "text": "Naems\n\n# Strive for:\nshort_flights &lt;- flights |&gt; filter(air_time &lt; 60)\n\n# Avoid:\nSHORTFLIGHTS &lt;- flights |&gt; filter(air_time &lt; 60)",
    "crumbs": [
      "Home",
      "R4DS",
      "Workflow - code style"
    ]
  },
  {
    "objectID": "r4ds_2nd_04.html#spaces",
    "href": "r4ds_2nd_04.html#spaces",
    "title": "Workflow - code style",
    "section": "Spaces",
    "text": "Spaces\n\n# Strive for\nz &lt;- (a + b)^2 / d\n\n# Avoid\nz&lt;-( a + b ) ^ 2/d\n\n\n# Strive for\nmean(x, na.rm = TRUE)\n\n# Avoid\nmean (x ,na.rm=TRUE)",
    "crumbs": [
      "Home",
      "R4DS",
      "Workflow - code style"
    ]
  },
  {
    "objectID": "r4ds_2nd_04.html#pipes",
    "href": "r4ds_2nd_04.html#pipes",
    "title": "Workflow - code style",
    "section": "Pipes",
    "text": "Pipes\n\n# Strive for \nflights |&gt;  \n  filter(!is.na(arr_delay), !is.na(tailnum)) |&gt; \n  count(dest)\n\n# Avoid\nflights|&gt;filter(!is.na(arr_delay), !is.na(tailnum))|&gt;count(dest)\n\n# Strive for\nflights |&gt;  \n  group_by(tailnum) |&gt; \n  summarize(\n    delay = mean(arr_delay, na.rm = TRUE),\n    n = n()\n  )\n\n# Avoid\nflights |&gt;\n  group_by(\n    tailnum\n  ) |&gt; \n  summarize(delay = mean(arr_delay, na.rm = TRUE), n = n())\n\n# Strive for \nflights |&gt;  \n  group_by(tailnum) |&gt; \n  summarize(\n    delay = mean(arr_delay, na.rm = TRUE),\n    n = n()\n  )\n\n# Avoid\nflights|&gt;\n  group_by(tailnum) |&gt; \n  summarize(\n             delay = mean(arr_delay, na.rm = TRUE), \n             n = n()\n           )\n\n# Avoid\nflights|&gt;\n  group_by(tailnum) |&gt; \n  summarize(\n  delay = mean(arr_delay, na.rm = TRUE), \n  n = n()\n  )\n\n# This fits compactly on one line\ndf |&gt; mutate(y = x + 1)\n\n# While this takes up 4x as many lines, it's easily extended to \n# more variables and more steps in the future\ndf |&gt; \n  mutate(\n    y = x + 1\n  )",
    "crumbs": [
      "Home",
      "R4DS",
      "Workflow - code style"
    ]
  },
  {
    "objectID": "r4ds_2nd_04.html#ggplot2",
    "href": "r4ds_2nd_04.html#ggplot2",
    "title": "Workflow - code style",
    "section": "ggplot2",
    "text": "ggplot2\n\nflights |&gt; \n  group_by(month) |&gt; \n  summarize(\n    delay = mean(arr_delay, na.rm = TRUE)\n  ) |&gt; \n  ggplot(aes(x = month, y = delay)) +\n  geom_point() + \n  geom_line()\n\nflights |&gt; \n  group_by(dest) |&gt; \n  summarize(\n    distance = mean(distance),\n    speed = mean(distance / air_time, na.rm = TRUE)\n  ) |&gt; \n  ggplot(aes(x = distance, y = speed)) +\n  geom_smooth(\n    method = \"loess\",\n    span = 0.5,\n    se = FALSE, \n    color = \"white\", \n    linewidth = 4\n  ) +\n  geom_point()",
    "crumbs": [
      "Home",
      "R4DS",
      "Workflow - code style"
    ]
  },
  {
    "objectID": "r4ds_2nd_04.html#section",
    "href": "r4ds_2nd_04.html#section",
    "title": "Workflow - code style",
    "section": "Section",
    "text": "Section\n\n# Load data --------------------------------------\n\n# Plot data --------------------------------------",
    "crumbs": [
      "Home",
      "R4DS",
      "Workflow - code style"
    ]
  },
  {
    "objectID": "r4ds_2nd_04.html#연습문제-4.7",
    "href": "r4ds_2nd_04.html#연습문제-4.7",
    "title": "Workflow - code style",
    "section": "연습문제 4.7",
    "text": "연습문제 4.7\n\nflights |&gt;\n  filter(dest == \"IAH\") |&gt;\n  group_by(year, month, day) |&gt;\n  summarize(\n    n = n(),\n    delay = mean(arr_delay, na.rm = TRUE)\n  ) |&gt;\n  filter(n &gt; 10)\n\nflights |&gt;\n  filter(\n    carrier == \"UA\", \n    dest %in% c(\"IAH\", \"HOU\"), \n    sched_dep_time &gt; 0900, \n    sched_arr_time &lt; 2000\n  ) |&gt;\n  group_by(flight) |&gt;\n  summarize(\n    delay = mean(arr_delay, na.rm = TRUE), \n    cancelled = sum(is.na(arr_delay)), n = n()\n  ) |&gt;\n  filter(n &gt; 10)",
    "crumbs": [
      "Home",
      "R4DS",
      "Workflow - code style"
    ]
  },
  {
    "objectID": "r4ds_2nd_09.html",
    "href": "r4ds_2nd_09.html",
    "title": "Layers",
    "section": "",
    "text": "해당 교재는 https://r4ds.hadley.nz/ 에서 확인하실 수 있습니다. 이 문서에 존재하는 모든 인용은 Hadley Wickham (2023) 입니다.\n이 장에서는 그래픽의 레이어 문법(grammar of graphics)을 학습합니다. ggplot2에서 제공하는 가장 중요하고 일반적으로 사용되는 기능을 연습하고 ggplot2를 확장하는 패키지를 소개합니다.\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors",
    "crumbs": [
      "Home",
      "R4DS",
      "Layers"
    ]
  },
  {
    "objectID": "r4ds_2nd_09.html#aesthetic-mappings",
    "href": "r4ds_2nd_09.html#aesthetic-mappings",
    "title": "Layers",
    "section": "Aesthetic mappings",
    "text": "Aesthetic mappings\n\n# Light\nggplot(mpg, aes(x = displ, y = hwy, color = class)) + geom_point()\n\n\n\n\n\n\n\n# Right\nggplot(mpg, aes(x = displ, y = hwy, shape = class)) + geom_point()\n\nWarning: The shape palette can deal with a maximum of 6 discrete values because more\nthan 6 becomes difficult to discriminate\nℹ you have requested 7 values. Consider specifying shapes manually if you need\n  that many have them.\n\n\nWarning: Removed 62 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\n클래스(class)가 shape에 매핑되면 두 가지 경고가 표시됩니다: - 도형 팔레트는 최대 6개의 불연속형 값을 처리할 수 있습니다. 6개를 초과하면 구분이 어려워집니다. 도형이 꼭 필요한 경우 수동으로 도형을 지정하는 것이 좋습니다. - 누락된 값이 포함된 62개 행을 제거했습니다(geom_point()). 데이터 집합에 62개의 SUV가 있지만 플롯되지 않은 것과 관련이 있습니다.\n마찬가지로 클래스를 크기에 매핑하여 각각 포인트의 크기와 alpha 값에 매핑하여 투명도를 제어할 수 있습니다.\n\n# Left\nggplot(mpg, aes(x = displ, y = hwy, size = class)) +\n  geom_point()\n\nWarning: Using size for a discrete variable is not advised.\n\n\n\n\n\n\n\n\n# Right\nggplot(mpg, aes(x = displ, y = hwy, alpha = class)) +\n  geom_point()\n\nWarning: Using alpha for a discrete variable is not advised.\n\n\n\n\n\n\n\n\n\n\nstudents &lt;- read_csv(\"data/students.csv\")\n\nRows: 6 Columns: 5\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (4): Full Name, favourite.food, mealPlan, AGE\ndbl (1): Student ID\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nstudents |&gt; janitor::clean_names()\n\n# A tibble: 6 × 5\n  student_id full_name        favourite_food     meal_plan           age  \n       &lt;dbl&gt; &lt;chr&gt;            &lt;chr&gt;              &lt;chr&gt;               &lt;chr&gt;\n1          1 Sunil Huffmann   Strawberry yoghurt Lunch only          4    \n2          2 Barclay Lynn     French fries       Lunch only          5    \n3          3 Jayendra Lyne    N/A                Breakfast and lunch 7    \n4          4 Leon Rossini     Anchovies          Lunch only          &lt;NA&gt; \n5          5 Chidiegwu Dunkel Pizza              Breakfast and lunch five \n6          6 Güvenç Attila    Ice cream          Lunch only          6    \n\n\n\nstudents |&gt;\n  janitor::clean_names() |&gt;\n  mutate(meal_plan = factor(meal_plan))\n\n# A tibble: 6 × 5\n  student_id full_name        favourite_food     meal_plan           age  \n       &lt;dbl&gt; &lt;chr&gt;            &lt;chr&gt;              &lt;fct&gt;               &lt;chr&gt;\n1          1 Sunil Huffmann   Strawberry yoghurt Lunch only          4    \n2          2 Barclay Lynn     French fries       Lunch only          5    \n3          3 Jayendra Lyne    N/A                Breakfast and lunch 7    \n4          4 Leon Rossini     Anchovies          Lunch only          &lt;NA&gt; \n5          5 Chidiegwu Dunkel Pizza              Breakfast and lunch five \n6          6 Güvenç Attila    Ice cream          Lunch only          6    \n\n\n\nstudents &lt;- students |&gt;\n  janitor::clean_names() |&gt;\n  mutate(\n    meal_plan = factor(meal_plan),\n    age = parse_number(if_else(age == \"five\", \"5\", age))\n  )\n\n\n연습문제 7.2.4\n\nannoying &lt;- tibble(\n  `1` = 1:10,\n  `2` = `1` * 2 + rnorm(length(`1`))\n)\n\nannoying |&gt;\n  select(`1`)\n\n# A tibble: 10 × 1\n     `1`\n   &lt;int&gt;\n 1     1\n 2     2\n 3     3\n 4     4\n 5     5\n 6     6\n 7     7\n 8     8\n 9     9\n10    10\n\nggplot(annoying, aes(x = `2`, y = `1`)) +\n  geom_point()\n\n\n\n\n\n\n\nannoying |&gt;\n  mutate(`3` = `2` / `1`)\n\n# A tibble: 10 × 3\n     `1`    `2`   `3`\n   &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt;\n 1     1  0.574 0.574\n 2     2  4.39  2.19 \n 3     3  6.41  2.14 \n 4     4  8.38  2.09 \n 5     5  9.05  1.81 \n 6     6 11.5   1.92 \n 7     7 14.0   2.00 \n 8     8 16.5   2.06 \n 9     9 17.7   1.97 \n10    10 20.7   2.07 \n\nannoying |&gt;\n  mutate(`3` = `2` / `1`) |&gt;\n  rename(\n    \"one\" = `1`,\n    \"two\" = `2`,\n    \"three\" = `3`\n  )\n\n# A tibble: 10 × 3\n     one    two three\n   &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt;\n 1     1  0.574 0.574\n 2     2  4.39  2.19 \n 3     3  6.41  2.14 \n 4     4  8.38  2.09 \n 5     5  9.05  1.81 \n 6     6 11.5   1.92 \n 7     7 14.0   2.00 \n 8     8 16.5   2.06 \n 9     9 17.7   1.97 \n10    10 20.7   2.07",
    "crumbs": [
      "Home",
      "R4DS",
      "Layers"
    ]
  },
  {
    "objectID": "r4ds_2nd_09.html#data-entry",
    "href": "r4ds_2nd_09.html#data-entry",
    "title": "Layers",
    "section": "Data entry",
    "text": "Data entry\n\ntribble(\n  ~x, ~y, ~z,\n  1, \"h\", 0.08,\n  2, \"m\", 0.83,\n  5, \"g\", 0.60\n)\n\n# A tibble: 3 × 3\n      x y         z\n  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;\n1     1 h      0.08\n2     2 m      0.83\n3     5 g      0.6",
    "crumbs": [
      "Home",
      "R4DS",
      "Layers"
    ]
  },
  {
    "objectID": "r4ds_2nd_01.html",
    "href": "r4ds_2nd_01.html",
    "title": "Data visualization",
    "section": "",
    "text": "해당 교재는 https://r4ds.hadley.nz/ 에서 확인하실 수 있습니다. 이 문서에 존재하는 모든 인용은 Hadley Wickham (2023) 입니다.\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(palmerpenguins)\nlibrary(ggthemes)",
    "crumbs": [
      "Home",
      "R4DS",
      "Data visualization"
    ]
  },
  {
    "objectID": "r4ds_2nd_01.html#r을-활용한-시각화-기초",
    "href": "r4ds_2nd_01.html#r을-활용한-시각화-기초",
    "title": "Data visualization",
    "section": "R을 활용한 시각화 기초",
    "text": "R을 활용한 시각화 기초\n\n정리1. 용어\n\nTo make the discussion easier, let’s define some terms: A variable is a quantity, quality, or property that you can measure. A value is the state of a variable when you measure it. The value of a variable may change from measurement to measurement. An observation is a set of measurements made under similar conditions (you usually make all of the measurements in an observation at the same time and on the same object). An observation will contain several values, each associated with a different variable. We’ll sometimes refer to an observation as a data point. Tabular data is a set of values, each associated with a variable and an observation. Tabular data is tidy if each value is placed in its own “cell”, each variable in its own column, and each observation in its own row.\n\n\npenguins %&gt;% glimpse()\n\nRows: 344\nColumns: 8\n$ species           &lt;fct&gt; Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    &lt;dbl&gt; 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     &lt;dbl&gt; 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm &lt;int&gt; 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       &lt;int&gt; 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               &lt;fct&gt; male, female, female, NA, female, male, female, male…\n$ year              &lt;int&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…\n\n\n\n\n정리2. 데이터 자료형\n\ndataframe vs tibble\n\n\npenguins\n\n# A tibble: 344 × 8\n   species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n   &lt;fct&gt;   &lt;fct&gt;              &lt;dbl&gt;         &lt;dbl&gt;             &lt;int&gt;       &lt;int&gt;\n 1 Adelie  Torgersen           39.1          18.7               181        3750\n 2 Adelie  Torgersen           39.5          17.4               186        3800\n 3 Adelie  Torgersen           40.3          18                 195        3250\n 4 Adelie  Torgersen           NA            NA                  NA          NA\n 5 Adelie  Torgersen           36.7          19.3               193        3450\n 6 Adelie  Torgersen           39.3          20.6               190        3650\n 7 Adelie  Torgersen           38.9          17.8               181        3625\n 8 Adelie  Torgersen           39.2          19.6               195        4675\n 9 Adelie  Torgersen           34.1          18.1               193        3475\n10 Adelie  Torgersen           42            20.2               190        4250\n# ℹ 334 more rows\n# ℹ 2 more variables: sex &lt;fct&gt;, year &lt;int&gt;\n\n\n\n\n정리3. 간단한 시각화\n\nggplot2\n\n\nggplot(data = penguins, mapping = aes(x = flipper_length_mm, y = body_mass_g)) + \n  geom_point(mapping = aes(color = species, shape = species), na.rm = TRUE) +\n  geom_smooth(formula = y ~ x, method = \"lm\", na.rm = TRUE) +\n  labs(title = \"Body mass and flipper length\",\n       subtitle = \"Dimensions for Adelie, Chinstrap, and Gentoo Penguins\",\n       x = \"Flipper length (mm)\", y = \"Body mass (g)\",\n       color = \"Species\", shape = \"Species\") +\n  scale_color_colorblind()\n\n\n\n\n\n\n\n\n\n\n정리4. pipe operator\n\n%&gt;% / |&gt;\n\n\npenguins %&gt;% \n  ggplot(mapping = aes(x = flipper_length_mm, y = body_mass_g)) + \n  geom_point(mapping = aes(color = species, shape = species), na.rm = TRUE) +\n  geom_smooth(formula = y ~ x, method = \"lm\", na.rm = TRUE) +\n  labs(title = \"Body mass and flipper length\",\n       subtitle = \"Dimensions for Adelie, Chinstrap, and Gentoo Penguins\",\n       x = \"Flipper length (mm)\", y = \"Body mass (g)\",\n       color = \"Species\", shape = \"Species\") +\n  scale_color_colorblind()\n\n\n\n\n\n\n\n\n\n\n정리5. 변수 유형에 따른 그래프 선택\n\n변수의 개수에 따라 변수가 1개인 경우 히스토그램을 사용하고, 2개인 경우 산점도를 사용하는 것이 일반적(Midway (2020), Kelleher & Wagener (2011), Islam & Jin (2019) 등도 함께 참고)",
    "crumbs": [
      "Home",
      "R4DS",
      "Data visualization"
    ]
  },
  {
    "objectID": "r4ds_2nd_01.html#연습문제-1.2.5",
    "href": "r4ds_2nd_01.html#연습문제-1.2.5",
    "title": "Data visualization",
    "section": "연습문제 1.2.5",
    "text": "연습문제 1.2.5\n\n3\n\nggplot(data = penguins, mapping = aes(x = bill_depth_mm, y = bill_length_mm)) +\n  geom_point()\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\n\n\n4\n\nggplot(data = penguins, mapping = aes(x = bill_depth_mm, y = species)) +\n  geom_point()\n\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\n\n\n5\n\nggplot(data = penguins, mapping = aes(x = bill_depth_mm, colour = species)) +\n  geom_density()\n\nWarning: Removed 2 rows containing non-finite outside the scale range\n(`stat_density()`).\n\n\n\n\n\n\n\n\n\n\n\n8\n\npenguins %&gt;% \n  ggplot(mapping = aes(x = flipper_length_mm, y = body_mass_g)) + \n  geom_point(aes(colour = bill_depth_mm), na.rm = TRUE) +\n  geom_smooth(formula = y ~ x, method = \"loess\", na.rm = TRUE)",
    "crumbs": [
      "Home",
      "R4DS",
      "Data visualization"
    ]
  },
  {
    "objectID": "r4ds_2nd_01.html#연습문제-1.4.3",
    "href": "r4ds_2nd_01.html#연습문제-1.4.3",
    "title": "Data visualization",
    "section": "연습문제 1.4.3",
    "text": "연습문제 1.4.3\n\n1\n\npenguins %&gt;% \n  ggplot(aes(y = species))+\n  geom_bar()\n\n\n\n\n\n\n\n\n\n\n2\n\npenguins %&gt;% \n  ggplot(aes(x = species)) +\n  geom_bar(fill = \"red\")\n\n\n\n\n\n\n\n\n\n\n4\n\ndiamonds %&gt;% \n  ggplot(aes(x = carat)) +\n  geom_histogram(binwidth = 0.5)",
    "crumbs": [
      "Home",
      "R4DS",
      "Data visualization"
    ]
  },
  {
    "objectID": "r4ds_2nd_01.html#연습문제-1.5.5",
    "href": "r4ds_2nd_01.html#연습문제-1.5.5",
    "title": "Data visualization",
    "section": "연습문제 1.5.5",
    "text": "연습문제 1.5.5\n\n6\n\npenguins %&gt;% \n  ggplot(mapping = aes(x = bill_length_mm, y = bill_depth_mm, \n                       color = species, shape = species)) +\n  geom_point(na.rm = TRUE) +\n  labs(color = \"Species\", shape = \"Species\")\n\n\n\n\n\n\n\n\n\n\n7\n\npenguins %&gt;% ggplot(aes(x = island, fill = species)) +\n  geom_bar(position = \"fill\")\n\n\n\n\n\n\n\npenguins %&gt;% ggplot(aes(x = species, fill = island)) +\n  geom_bar(position = \"fill\")",
    "crumbs": [
      "Home",
      "R4DS",
      "Data visualization"
    ]
  },
  {
    "objectID": "r4ds_2nd_01.html#연습문제-1.6.1",
    "href": "r4ds_2nd_01.html#연습문제-1.6.1",
    "title": "Data visualization",
    "section": "연습문제 1.6.1",
    "text": "연습문제 1.6.1\n\nmpg %&gt;% \n  ggplot() +\n  geom_point(aes(x = cty, y = hwy))\n\n\n\n\n\n\n\n# ggsave(\"mpg-plot.pdf\")",
    "crumbs": [
      "Home",
      "R4DS",
      "Data visualization"
    ]
  },
  {
    "objectID": "r4ds_2nd_01.html#appendix",
    "href": "r4ds_2nd_01.html#appendix",
    "title": "Data visualization",
    "section": "Appendix",
    "text": "Appendix\n\n벡터\n\n벡터는 자료형이 같은 스칼라를 원소로 갖는 1차원 자료구조 입니다. R은 5가지 주요 자료구조(벡터, 행렬, 배열, 리스트, 데이터프레임)을 제공합니다. 그중에서 벡터가 기본 자료구조이며, 나머지 4개의 자료구조는 벡터를 기반으로 확장된 자료구조입니다.\n\n벡터에 관련된 내용은 이 곳을 참고하세요. 일반적으로 R 교재 등을 참고하기 보다는 R에서 제공하는 도움말을 활용하는 것이 좋습니다. R에서 제공하는 도움말은 ?를 사용하여 확인할 수 있습니다. 하지만 가독성이 좋지 않기 때문에 가능하면 홈페이지를 참고하세요.\n그리고, vector 관련 내용 중에서 범주형 자료를 다른 항목도 함께 참고하세요.\n\n\n리스트\n\n리스트는 R에서 가장 다양한 객체를 원소로 가질 수 있는 자료구조입니다. 스칼라, 벡터, 행렬은 물론 데이터프레임, 리스트 및 함수도 원소로 가질 수 있습니다. 이러한 리스트의 특성은 다양한 객체를 하나로 담는 역할을 수행합니다. 따라서 함수가 반환해야 할 객체가 서로 다른 자료구조를 가질 때 리스트를 주로 사용하기 때문에, 많은 함수들의 반환값으로 해당 자료구조가 선택됩니다.\n\n리스트에 관련된 내용은 이 곳을 참고하세요. 매뉴얼에 제시된 수준이면 R을 사용해서 문제를 해결하는데 큰 어려움은 없습니다.\n\n\n데이터프레임\n\nR을 사용해서 데이터 분석을 하다면 가장 많이 다루게 될 자료구조 입니다. 리스트가 행벡터를 원소가 가진다면, 데이터프레임은 열벡터를 원소로 가집니다. 따라서 데이터프레임은 열벡터를 가로 방향으로 붙여서 행과 열을 갖는 직사각형 모양으로 출력됩니다. 데이터프레임의 모든 열벡터는 길이가 같아야 합니다. 만약 길이가 다른 열벡터로 데이터프레임을 생성하려고 하면 에러가 발생합니다.\n\n데이터프레임에 관련된 내용은 이 곳을 참고하세요. 데이터프레임은 R에서 가장 많이 사용되는 자료구조이기 때문에, 해당 자료구조에 대해서 별도의 연습이 필요합니다. 관련하여 아래와 같은 교재를 참고하세요. (나성호, 2021)의 경우 3장, 4장을 참고하세요. (오세종, 2023)의 경우 2장, 3장을 참고하세요.\n\n\n제어와 함수\n\n제어문\n\n실행 흐름을 분기하는 if, ifelse와 반복문인 for, while, repeat, break, next 등을 제공합니다. 이러한 제어문을 사용하여 프로그램의 실행 흐름을 제어할 수 있습니다.\n\n제어문에 관련된 내용은 이 곳을 참고하세요. 제어문에 대한 이해가 부족하면 프로그램을 작성하는데 어려움이 있을 수 있으니 별도로 연습이 필요합니다.\n(나성호, 2021)의 경우 5장, 6장을 참고하세요. (오세종, 2023)의 경우 4장을 참고하세요.\n\n\n함수\n\n사용자 정의 함수 뿐만 아니라 라이브러리에서 제공하는 함수를 이해하기 위해서 함수를 학습하게 됩니다.\n\n함수에 관련된 내용은 이 곳을 참고하세요. 다른 라이브러리를 활용하기 위해서 함수에 대한 이해가 필요합니다. 그리고 데이터프레임을 활용하기 위해서는 apply 등과 같은 함수를 사용해야 하기 때문에 관련 내용은 잘 파악해두시기 바랍니다.\n(나성호, 2021)의 경우 7장, 8장을 참고하세요. (오세종, 2023)의 경우 4장을 참고하세요.",
    "crumbs": [
      "Home",
      "R4DS",
      "Data visualization"
    ]
  },
  {
    "objectID": "r4ds_2nd_03.html",
    "href": "r4ds_2nd_03.html",
    "title": "Data transformation",
    "section": "",
    "text": "해당 교재는 https://r4ds.hadley.nz/ 에서 확인하실 수 있습니다. 이 문서에 존재하는 모든 인용은 Hadley Wickham (2023) 입니다.\n이 장의 목표는 데이터 프레임을 변환하기 위한 모든 주요 도구인 dplyr 패키지를 사용한 데이터 변환을 학습합니다.\nlibrary(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(nycflights13)\nlibrary(ggthemes)\nflights %&gt;% \n  glimpse()\n\nRows: 336,776\nColumns: 19\n$ year           &lt;int&gt; 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2…\n$ month          &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ day            &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…\n$ dep_time       &lt;int&gt; 517, 533, 542, 544, 554, 554, 555, 557, 557, 558, 558, …\n$ sched_dep_time &lt;int&gt; 515, 529, 540, 545, 600, 558, 600, 600, 600, 600, 600, …\n$ dep_delay      &lt;dbl&gt; 2, 4, 2, -1, -6, -4, -5, -3, -3, -2, -2, -2, -2, -2, -1…\n$ arr_time       &lt;int&gt; 830, 850, 923, 1004, 812, 740, 913, 709, 838, 753, 849,…\n$ sched_arr_time &lt;int&gt; 819, 830, 850, 1022, 837, 728, 854, 723, 846, 745, 851,…\n$ arr_delay      &lt;dbl&gt; 11, 20, 33, -18, -25, 12, 19, -14, -8, 8, -2, -3, 7, -1…\n$ carrier        &lt;chr&gt; \"UA\", \"UA\", \"AA\", \"B6\", \"DL\", \"UA\", \"B6\", \"EV\", \"B6\", \"…\n$ flight         &lt;int&gt; 1545, 1714, 1141, 725, 461, 1696, 507, 5708, 79, 301, 4…\n$ tailnum        &lt;chr&gt; \"N14228\", \"N24211\", \"N619AA\", \"N804JB\", \"N668DN\", \"N394…\n$ origin         &lt;chr&gt; \"EWR\", \"LGA\", \"JFK\", \"JFK\", \"LGA\", \"EWR\", \"EWR\", \"LGA\",…\n$ dest           &lt;chr&gt; \"IAH\", \"IAH\", \"MIA\", \"BQN\", \"ATL\", \"ORD\", \"FLL\", \"IAD\",…\n$ air_time       &lt;dbl&gt; 227, 227, 160, 183, 116, 150, 158, 53, 140, 138, 149, 1…\n$ distance       &lt;dbl&gt; 1400, 1416, 1089, 1576, 762, 719, 1065, 229, 944, 733, …\n$ hour           &lt;dbl&gt; 5, 5, 5, 5, 6, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 5, 6, 6, 6…\n$ minute         &lt;dbl&gt; 15, 29, 40, 45, 0, 58, 0, 0, 0, 0, 0, 0, 0, 0, 0, 59, 0…\n$ time_hour      &lt;dttm&gt; 2013-01-01 05:00:00, 2013-01-01 05:00:00, 2013-01-01 0…\nflights |&gt;\n  filter(dest == \"IAH\") |&gt; \n  group_by(year, month, day) |&gt; \n  summarize(\n    arr_delay = mean(arr_delay, na.rm = TRUE)\n  ) \n\n`summarise()` has grouped output by 'year', 'month'. You can override using the\n`.groups` argument.\n\n\n# A tibble: 365 × 4\n# Groups:   year, month [12]\n    year month   day arr_delay\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;\n 1  2013     1     1     17.8 \n 2  2013     1     2      7   \n 3  2013     1     3     18.3 \n 4  2013     1     4     -3.2 \n 5  2013     1     5     20.2 \n 6  2013     1     6      9.28\n 7  2013     1     7     -7.74\n 8  2013     1     8      7.79\n 9  2013     1     9     18.1 \n10  2013     1    10      6.68\n# ℹ 355 more rows",
    "crumbs": [
      "Home",
      "R4DS",
      "Data transformation"
    ]
  },
  {
    "objectID": "r4ds_2nd_03.html#row",
    "href": "r4ds_2nd_03.html#row",
    "title": "Data transformation",
    "section": "Row",
    "text": "Row\n\nfilter\n\nThe most important verbs that operate on rows of a dataset are filter() […]\n\n\nflights |&gt; \n  filter(dep_delay &gt; 120)\n\n# A tibble: 9,723 × 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      848           1835       853     1001           1950\n 2  2013     1     1      957            733       144     1056            853\n 3  2013     1     1     1114            900       134     1447           1222\n 4  2013     1     1     1540           1338       122     2020           1825\n 5  2013     1     1     1815           1325       290     2120           1542\n 6  2013     1     1     1842           1422       260     1958           1535\n 7  2013     1     1     1856           1645       131     2212           2005\n 8  2013     1     1     1934           1725       129     2126           1855\n 9  2013     1     1     1938           1703       155     2109           1823\n10  2013     1     1     1942           1705       157     2124           1830\n# ℹ 9,713 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\n\nflights |&gt; \n  filter(month == 1 & day == 1)\n\n# A tibble: 842 × 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      517            515         2      830            819\n 2  2013     1     1      533            529         4      850            830\n 3  2013     1     1      542            540         2      923            850\n 4  2013     1     1      544            545        -1     1004           1022\n 5  2013     1     1      554            600        -6      812            837\n 6  2013     1     1      554            558        -4      740            728\n 7  2013     1     1      555            600        -5      913            854\n 8  2013     1     1      557            600        -3      709            723\n 9  2013     1     1      557            600        -3      838            846\n10  2013     1     1      558            600        -2      753            745\n# ℹ 832 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\nflights |&gt; \n  filter(month == 1 | month == 2)\n\n# A tibble: 51,955 × 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      517            515         2      830            819\n 2  2013     1     1      533            529         4      850            830\n 3  2013     1     1      542            540         2      923            850\n 4  2013     1     1      544            545        -1     1004           1022\n 5  2013     1     1      554            600        -6      812            837\n 6  2013     1     1      554            558        -4      740            728\n 7  2013     1     1      555            600        -5      913            854\n 8  2013     1     1      557            600        -3      709            723\n 9  2013     1     1      557            600        -3      838            846\n10  2013     1     1      558            600        -2      753            745\n# ℹ 51,945 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\nflights |&gt; \n  filter(month %in% c(1, 2))\n\n# A tibble: 51,955 × 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      517            515         2      830            819\n 2  2013     1     1      533            529         4      850            830\n 3  2013     1     1      542            540         2      923            850\n 4  2013     1     1      544            545        -1     1004           1022\n 5  2013     1     1      554            600        -6      812            837\n 6  2013     1     1      554            558        -4      740            728\n 7  2013     1     1      555            600        -5      913            854\n 8  2013     1     1      557            600        -3      709            723\n 9  2013     1     1      557            600        -3      838            846\n10  2013     1     1      558            600        -2      753            745\n# ℹ 51,945 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\n\njan1 &lt;- flights |&gt; \n  filter(month == 1 & day == 1)\n\n\n\narrange\n\narrange() changes the order of the rows based on the value of the columns. […]\n\n\nflights |&gt; \n  arrange(year, month, day, dep_time)\n\n# A tibble: 336,776 × 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      517            515         2      830            819\n 2  2013     1     1      533            529         4      850            830\n 3  2013     1     1      542            540         2      923            850\n 4  2013     1     1      544            545        -1     1004           1022\n 5  2013     1     1      554            600        -6      812            837\n 6  2013     1     1      554            558        -4      740            728\n 7  2013     1     1      555            600        -5      913            854\n 8  2013     1     1      557            600        -3      709            723\n 9  2013     1     1      557            600        -3      838            846\n10  2013     1     1      558            600        -2      753            745\n# ℹ 336,766 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\nflights |&gt; \n  arrange(desc(dep_delay))\n\n# A tibble: 336,776 × 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     9      641            900      1301     1242           1530\n 2  2013     6    15     1432           1935      1137     1607           2120\n 3  2013     1    10     1121           1635      1126     1239           1810\n 4  2013     9    20     1139           1845      1014     1457           2210\n 5  2013     7    22      845           1600      1005     1044           1815\n 6  2013     4    10     1100           1900       960     1342           2211\n 7  2013     3    17     2321            810       911      135           1020\n 8  2013     6    27      959           1900       899     1236           2226\n 9  2013     7    22     2257            759       898      121           1026\n10  2013    12     5      756           1700       896     1058           2020\n# ℹ 336,766 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\n\n\ndistinct\n\ndistinct() finds all the unique rows in a dataset, so in a technical sense…\n\n\nflights |&gt; \n  distinct()\n\n# A tibble: 336,776 × 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      517            515         2      830            819\n 2  2013     1     1      533            529         4      850            830\n 3  2013     1     1      542            540         2      923            850\n 4  2013     1     1      544            545        -1     1004           1022\n 5  2013     1     1      554            600        -6      812            837\n 6  2013     1     1      554            558        -4      740            728\n 7  2013     1     1      555            600        -5      913            854\n 8  2013     1     1      557            600        -3      709            723\n 9  2013     1     1      557            600        -3      838            846\n10  2013     1     1      558            600        -2      753            745\n# ℹ 336,766 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\nflights |&gt; \n  distinct(origin, dest)\n\n# A tibble: 224 × 2\n   origin dest \n   &lt;chr&gt;  &lt;chr&gt;\n 1 EWR    IAH  \n 2 LGA    IAH  \n 3 JFK    MIA  \n 4 JFK    BQN  \n 5 LGA    ATL  \n 6 EWR    ORD  \n 7 EWR    FLL  \n 8 LGA    IAD  \n 9 JFK    MCO  \n10 LGA    ORD  \n# ℹ 214 more rows\n\n\n\nAlternatively, if you want to the keep other columns when filtering for unique rows, you can use the .keep_all = TRUE option.\n\n\nflights |&gt; \n  distinct(origin, dest, .keep_all = TRUE)\n\n# A tibble: 224 × 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      517            515         2      830            819\n 2  2013     1     1      533            529         4      850            830\n 3  2013     1     1      542            540         2      923            850\n 4  2013     1     1      544            545        -1     1004           1022\n 5  2013     1     1      554            600        -6      812            837\n 6  2013     1     1      554            558        -4      740            728\n 7  2013     1     1      555            600        -5      913            854\n 8  2013     1     1      557            600        -3      709            723\n 9  2013     1     1      557            600        -3      838            846\n10  2013     1     1      558            600        -2      753            745\n# ℹ 214 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\n\nflights |&gt;\n  count(origin, dest, sort = TRUE)\n\n# A tibble: 224 × 3\n   origin dest      n\n   &lt;chr&gt;  &lt;chr&gt; &lt;int&gt;\n 1 JFK    LAX   11262\n 2 LGA    ATL   10263\n 3 LGA    ORD    8857\n 4 JFK    SFO    8204\n 5 LGA    CLT    6168\n 6 EWR    ORD    6100\n 7 JFK    BOS    5898\n 8 LGA    MIA    5781\n 9 JFK    MCO    5464\n10 EWR    BOS    5327\n# ℹ 214 more rows\n\n\n\n\n연습문제 3.2.5\n\n1\n\n# Had an arrival delay of two or more hours\nflights |&gt;\n  filter(arr_delay &gt;= 120) |&gt;\n  arrange(desc(arr_delay))\n\n# A tibble: 10,200 × 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     9      641            900      1301     1242           1530\n 2  2013     6    15     1432           1935      1137     1607           2120\n 3  2013     1    10     1121           1635      1126     1239           1810\n 4  2013     9    20     1139           1845      1014     1457           2210\n 5  2013     7    22      845           1600      1005     1044           1815\n 6  2013     4    10     1100           1900       960     1342           2211\n 7  2013     3    17     2321            810       911      135           1020\n 8  2013     7    22     2257            759       898      121           1026\n 9  2013    12     5      756           1700       896     1058           2020\n10  2013     5     3     1133           2055       878     1250           2215\n# ℹ 10,190 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n# Flew to Houston (IAH or HOU)\nflights |&gt;\n  filter(dest %in% c(\"IAH\", \"HOU\"))\n\n# A tibble: 9,313 × 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      517            515         2      830            819\n 2  2013     1     1      533            529         4      850            830\n 3  2013     1     1      623            627        -4      933            932\n 4  2013     1     1      728            732        -4     1041           1038\n 5  2013     1     1      739            739         0     1104           1038\n 6  2013     1     1      908            908         0     1228           1219\n 7  2013     1     1     1028           1026         2     1350           1339\n 8  2013     1     1     1044           1045        -1     1352           1351\n 9  2013     1     1     1114            900       134     1447           1222\n10  2013     1     1     1205           1200         5     1503           1505\n# ℹ 9,303 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n# Were operated by United, American, or Delta\nflights |&gt;\n  filter(carrier %in% c(\"UA\", \"AA\", \"DL\"))\n\n# A tibble: 139,504 × 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      517            515         2      830            819\n 2  2013     1     1      533            529         4      850            830\n 3  2013     1     1      542            540         2      923            850\n 4  2013     1     1      554            600        -6      812            837\n 5  2013     1     1      554            558        -4      740            728\n 6  2013     1     1      558            600        -2      753            745\n 7  2013     1     1      558            600        -2      924            917\n 8  2013     1     1      558            600        -2      923            937\n 9  2013     1     1      559            600        -1      941            910\n10  2013     1     1      559            600        -1      854            902\n# ℹ 139,494 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n# Departed in summer (July, August, and September)\nflights |&gt;\n  filter(month %in% c(7, 8, 9))\n\n# A tibble: 86,326 × 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     7     1        1           2029       212      236           2359\n 2  2013     7     1        2           2359         3      344            344\n 3  2013     7     1       29           2245       104      151              1\n 4  2013     7     1       43           2130       193      322             14\n 5  2013     7     1       44           2150       174      300            100\n 6  2013     7     1       46           2051       235      304           2358\n 7  2013     7     1       48           2001       287      308           2305\n 8  2013     7     1       58           2155       183      335             43\n 9  2013     7     1      100           2146       194      327             30\n10  2013     7     1      100           2245       135      337            135\n# ℹ 86,316 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n# Arrived more than two hours late, but didn’t leave late\nflights |&gt; \n  filter(arr_delay &gt;= 120 & dep_delay &lt;= 0) |&gt; view()\n\n# Were delayed by at least an hour, but made up over 30 minutes in flight\nflights |&gt; \n  filter(dep_delay &gt;= 60 & dep_delay - arr_delay &gt; 30)\n\n# A tibble: 1,844 × 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1     2205           1720       285       46           2040\n 2  2013     1     1     2326           2130       116      131             18\n 3  2013     1     3     1503           1221       162     1803           1555\n 4  2013     1     3     1839           1700        99     2056           1950\n 5  2013     1     3     1850           1745        65     2148           2120\n 6  2013     1     3     1941           1759       102     2246           2139\n 7  2013     1     3     1950           1845        65     2228           2227\n 8  2013     1     3     2015           1915        60     2135           2111\n 9  2013     1     3     2257           2000       177       45           2224\n10  2013     1     4     1917           1700       137     2135           1950\n# ℹ 1,834 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\n\n\n2\n\nflights |&gt; \n  arrange(desc(dep_delay)) |&gt; \n  arrange(sched_dep_time) |&gt;\n  relocate(dep_delay, sched_dep_time)\n\n# A tibble: 336,776 × 19\n   dep_delay sched_dep_time  year month   day dep_time arr_time sched_arr_time\n       &lt;dbl&gt;          &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;    &lt;int&gt;          &lt;int&gt;\n 1        NA            106  2013     7    27       NA       NA            245\n 2       188            500  2013     4    24      808     1008            640\n 3        61            500  2013     9    13      601      732            648\n 4        47            500  2013     3     9      547      733            648\n 5        44            500  2013     6     8      544      727            640\n 6        29            500  2013     4    17      529      704            640\n 7        25            500  2013     6    30      525      703            640\n 8        22            500  2013    11    28      522      658            651\n 9        20            500  2013     4    21      520      705            640\n10        18            500  2013     6     3      518      654            640\n# ℹ 336,766 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\n\n\n3\n\nflights |&gt; \n  mutate(speed = distance / (air_time / 60)) |&gt;\n  arrange(desc(speed)) |&gt;\n  relocate(speed)\n\n# A tibble: 336,776 × 20\n   speed  year month   day dep_time sched_dep_time dep_delay arr_time\n   &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;\n 1  703.  2013     5    25     1709           1700         9     1923\n 2  650.  2013     7     2     1558           1513        45     1745\n 3  648   2013     5    13     2040           2025        15     2225\n 4  641.  2013     3    23     1914           1910         4     2045\n 5  591.  2013     1    12     1559           1600        -1     1849\n 6  564   2013    11    17      650            655        -5     1059\n 7  557.  2013     2    21     2355           2358        -3      412\n 8  556.  2013    11    17      759            800        -1     1212\n 9  554.  2013    11    16     2003           1925        38       17\n10  554.  2013    11    16     2349           2359       -10      402\n# ℹ 336,766 more rows\n# ℹ 12 more variables: sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,\n#   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,\n#   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\n\n\n4\n\nflights |&gt; \n  distinct(year, month, day) |&gt;\n  nrow()\n\n[1] 365\n\n\n\n\n5\n\nflights |&gt; \n  arrange(desc(distance)) |&gt;\n  relocate(distance)\n\n# A tibble: 336,776 × 19\n   distance  year month   day dep_time sched_dep_time dep_delay arr_time\n      &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;\n 1     4983  2013     1     1      857            900        -3     1516\n 2     4983  2013     1     2      909            900         9     1525\n 3     4983  2013     1     3      914            900        14     1504\n 4     4983  2013     1     4      900            900         0     1516\n 5     4983  2013     1     5      858            900        -2     1519\n 6     4983  2013     1     6     1019            900        79     1558\n 7     4983  2013     1     7     1042            900       102     1620\n 8     4983  2013     1     8      901            900         1     1504\n 9     4983  2013     1     9      641            900      1301     1242\n10     4983  2013     1    10      859            900        -1     1449\n# ℹ 336,766 more rows\n# ℹ 11 more variables: sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,\n#   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;",
    "crumbs": [
      "Home",
      "R4DS",
      "Data transformation"
    ]
  },
  {
    "objectID": "r4ds_2nd_03.html#columns",
    "href": "r4ds_2nd_03.html#columns",
    "title": "Data transformation",
    "section": "Columns",
    "text": "Columns\n\nmutate\n\nThe job of mutate() is to add new columns that are calculated from the existing columns.\n\n\nflights |&gt; \n  mutate(\n    gain = dep_delay - arr_delay,\n    speed = distance / air_time * 60\n  )\n\n# A tibble: 336,776 × 21\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      517            515         2      830            819\n 2  2013     1     1      533            529         4      850            830\n 3  2013     1     1      542            540         2      923            850\n 4  2013     1     1      544            545        -1     1004           1022\n 5  2013     1     1      554            600        -6      812            837\n 6  2013     1     1      554            558        -4      740            728\n 7  2013     1     1      555            600        -5      913            854\n 8  2013     1     1      557            600        -3      709            723\n 9  2013     1     1      557            600        -3      838            846\n10  2013     1     1      558            600        -2      753            745\n# ℹ 336,766 more rows\n# ℹ 13 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, gain &lt;dbl&gt;, speed &lt;dbl&gt;\n\n\n\n[…] We can use the .before argument to instead add the variables to the left hand side.\n\n\nflights |&gt; \n  mutate(\n    gain = dep_delay - arr_delay,\n    speed = distance / air_time * 60,\n    .before = 1\n  )\n\n# A tibble: 336,776 × 21\n    gain speed  year month   day dep_time sched_dep_time dep_delay arr_time\n   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;\n 1    -9  370.  2013     1     1      517            515         2      830\n 2   -16  374.  2013     1     1      533            529         4      850\n 3   -31  408.  2013     1     1      542            540         2      923\n 4    17  517.  2013     1     1      544            545        -1     1004\n 5    19  394.  2013     1     1      554            600        -6      812\n 6   -16  288.  2013     1     1      554            558        -4      740\n 7   -24  404.  2013     1     1      555            600        -5      913\n 8    11  259.  2013     1     1      557            600        -3      709\n 9     5  405.  2013     1     1      557            600        -3      838\n10   -10  319.  2013     1     1      558            600        -2      753\n# ℹ 336,766 more rows\n# ℹ 12 more variables: sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,\n#   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,\n#   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\nflights |&gt; \n  mutate(\n    gain = dep_delay - arr_delay,\n    speed = distance / air_time * 60,\n    .after = day\n  )\n\n# A tibble: 336,776 × 21\n    year month   day  gain speed dep_time sched_dep_time dep_delay arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;\n 1  2013     1     1    -9  370.      517            515         2      830\n 2  2013     1     1   -16  374.      533            529         4      850\n 3  2013     1     1   -31  408.      542            540         2      923\n 4  2013     1     1    17  517.      544            545        -1     1004\n 5  2013     1     1    19  394.      554            600        -6      812\n 6  2013     1     1   -16  288.      554            558        -4      740\n 7  2013     1     1   -24  404.      555            600        -5      913\n 8  2013     1     1    11  259.      557            600        -3      709\n 9  2013     1     1     5  405.      557            600        -3      838\n10  2013     1     1   -10  319.      558            600        -2      753\n# ℹ 336,766 more rows\n# ℹ 12 more variables: sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,\n#   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,\n#   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\nflights |&gt; \n  mutate(\n    gain = dep_delay - arr_delay,\n    hours = air_time / 60,\n    gain_per_hour = gain / hours,\n    .keep = \"used\"\n  )\n\n# A tibble: 336,776 × 6\n   dep_delay arr_delay air_time  gain hours gain_per_hour\n       &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;         &lt;dbl&gt;\n 1         2        11      227    -9 3.78          -2.38\n 2         4        20      227   -16 3.78          -4.23\n 3         2        33      160   -31 2.67         -11.6 \n 4        -1       -18      183    17 3.05           5.57\n 5        -6       -25      116    19 1.93           9.83\n 6        -4        12      150   -16 2.5           -6.4 \n 7        -5        19      158   -24 2.63          -9.11\n 8        -3       -14       53    11 0.883         12.5 \n 9        -3        -8      140     5 2.33           2.14\n10        -2         8      138   -10 2.3           -4.35\n# ℹ 336,766 more rows\n\n\n\n\nselect\n\n[…] select() allows you to rapidly zoom in on a useful subset using operations based on the names of the variables:\n\n\nflights |&gt; \n  select(year, month, day)\n\n# A tibble: 336,776 × 3\n    year month   day\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;\n 1  2013     1     1\n 2  2013     1     1\n 3  2013     1     1\n 4  2013     1     1\n 5  2013     1     1\n 6  2013     1     1\n 7  2013     1     1\n 8  2013     1     1\n 9  2013     1     1\n10  2013     1     1\n# ℹ 336,766 more rows\n\nflights |&gt; \n  select(year:day)\n\n# A tibble: 336,776 × 3\n    year month   day\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;\n 1  2013     1     1\n 2  2013     1     1\n 3  2013     1     1\n 4  2013     1     1\n 5  2013     1     1\n 6  2013     1     1\n 7  2013     1     1\n 8  2013     1     1\n 9  2013     1     1\n10  2013     1     1\n# ℹ 336,766 more rows\n\nflights |&gt; \n  select(!year:day)\n\n# A tibble: 336,776 × 16\n   dep_time sched_dep_time dep_delay arr_time sched_arr_time arr_delay carrier\n      &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt; &lt;chr&gt;  \n 1      517            515         2      830            819        11 UA     \n 2      533            529         4      850            830        20 UA     \n 3      542            540         2      923            850        33 AA     \n 4      544            545        -1     1004           1022       -18 B6     \n 5      554            600        -6      812            837       -25 DL     \n 6      554            558        -4      740            728        12 UA     \n 7      555            600        -5      913            854        19 B6     \n 8      557            600        -3      709            723       -14 EV     \n 9      557            600        -3      838            846        -8 B6     \n10      558            600        -2      753            745         8 AA     \n# ℹ 336,766 more rows\n# ℹ 9 more variables: flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,\n#   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\nflights |&gt; \n  select(where(is.character))\n\n# A tibble: 336,776 × 4\n   carrier tailnum origin dest \n   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;\n 1 UA      N14228  EWR    IAH  \n 2 UA      N24211  LGA    IAH  \n 3 AA      N619AA  JFK    MIA  \n 4 B6      N804JB  JFK    BQN  \n 5 DL      N668DN  LGA    ATL  \n 6 UA      N39463  EWR    ORD  \n 7 B6      N516JB  EWR    FLL  \n 8 EV      N829AS  LGA    IAD  \n 9 B6      N593JB  JFK    MCO  \n10 AA      N3ALAA  LGA    ORD  \n# ℹ 336,766 more rows\n\nflights |&gt; \n  select(tail_num = tailnum)\n\n# A tibble: 336,776 × 1\n   tail_num\n   &lt;chr&gt;   \n 1 N14228  \n 2 N24211  \n 3 N619AA  \n 4 N804JB  \n 5 N668DN  \n 6 N39463  \n 7 N516JB  \n 8 N829AS  \n 9 N593JB  \n10 N3ALAA  \n# ℹ 336,766 more rows\n\n\n\n\nrename\n\nIf you have a bunch of inconsistently named columns and it would be painful to fix them all by hand, check out janitor::clean_names() which provides some useful automated cleaning.\n\n\nflights |&gt; \n  rename(tail_num = tailnum)\n\n# A tibble: 336,776 × 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      517            515         2      830            819\n 2  2013     1     1      533            529         4      850            830\n 3  2013     1     1      542            540         2      923            850\n 4  2013     1     1      544            545        -1     1004           1022\n 5  2013     1     1      554            600        -6      812            837\n 6  2013     1     1      554            558        -4      740            728\n 7  2013     1     1      555            600        -5      913            854\n 8  2013     1     1      557            600        -3      709            723\n 9  2013     1     1      557            600        -3      838            846\n10  2013     1     1      558            600        -2      753            745\n# ℹ 336,766 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tail_num &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\n\n\nrelocate\n\nflights |&gt; \n  relocate(time_hour, air_time)\n\n# A tibble: 336,776 × 19\n   time_hour           air_time  year month   day dep_time sched_dep_time\n   &lt;dttm&gt;                 &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;\n 1 2013-01-01 05:00:00      227  2013     1     1      517            515\n 2 2013-01-01 05:00:00      227  2013     1     1      533            529\n 3 2013-01-01 05:00:00      160  2013     1     1      542            540\n 4 2013-01-01 05:00:00      183  2013     1     1      544            545\n 5 2013-01-01 06:00:00      116  2013     1     1      554            600\n 6 2013-01-01 05:00:00      150  2013     1     1      554            558\n 7 2013-01-01 06:00:00      158  2013     1     1      555            600\n 8 2013-01-01 06:00:00       53  2013     1     1      557            600\n 9 2013-01-01 06:00:00      140  2013     1     1      557            600\n10 2013-01-01 06:00:00      138  2013     1     1      558            600\n# ℹ 336,766 more rows\n# ℹ 12 more variables: dep_delay &lt;dbl&gt;, arr_time &lt;int&gt;, sched_arr_time &lt;int&gt;,\n#   arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;,\n#   dest &lt;chr&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;\n\nflights |&gt; \n  relocate(year:dep_time, .after = time_hour)\n\n# A tibble: 336,776 × 19\n   sched_dep_time dep_delay arr_time sched_arr_time arr_delay carrier flight\n            &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt; &lt;chr&gt;    &lt;int&gt;\n 1            515         2      830            819        11 UA        1545\n 2            529         4      850            830        20 UA        1714\n 3            540         2      923            850        33 AA        1141\n 4            545        -1     1004           1022       -18 B6         725\n 5            600        -6      812            837       -25 DL         461\n 6            558        -4      740            728        12 UA        1696\n 7            600        -5      913            854        19 B6         507\n 8            600        -3      709            723       -14 EV        5708\n 9            600        -3      838            846        -8 B6          79\n10            600        -2      753            745         8 AA         301\n# ℹ 336,766 more rows\n# ℹ 12 more variables: tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;,\n#   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, year &lt;int&gt;,\n#   month &lt;int&gt;, day &lt;int&gt;, dep_time &lt;int&gt;\n\nflights |&gt; \n  relocate(starts_with(\"arr\"), .before = dep_time)\n\n# A tibble: 336,776 × 19\n    year month   day arr_time arr_delay dep_time sched_dep_time dep_delay\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;\n 1  2013     1     1      830        11      517            515         2\n 2  2013     1     1      850        20      533            529         4\n 3  2013     1     1      923        33      542            540         2\n 4  2013     1     1     1004       -18      544            545        -1\n 5  2013     1     1      812       -25      554            600        -6\n 6  2013     1     1      740        12      554            558        -4\n 7  2013     1     1      913        19      555            600        -5\n 8  2013     1     1      709       -14      557            600        -3\n 9  2013     1     1      838        -8      557            600        -3\n10  2013     1     1      753         8      558            600        -2\n# ℹ 336,766 more rows\n# ℹ 11 more variables: sched_arr_time &lt;int&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\n\n\n연습문제 3.3.5\n\n1\n\nflights |&gt; \n  relocate(dep_time, sched_dep_time, dep_delay)\n\n# A tibble: 336,776 × 19\n   dep_time sched_dep_time dep_delay  year month   day arr_time sched_arr_time\n      &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;\n 1      517            515         2  2013     1     1      830            819\n 2      533            529         4  2013     1     1      850            830\n 3      542            540         2  2013     1     1      923            850\n 4      544            545        -1  2013     1     1     1004           1022\n 5      554            600        -6  2013     1     1      812            837\n 6      554            558        -4  2013     1     1      740            728\n 7      555            600        -5  2013     1     1      913            854\n 8      557            600        -3  2013     1     1      709            723\n 9      557            600        -3  2013     1     1      838            846\n10      558            600        -2  2013     1     1      753            745\n# ℹ 336,766 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\n\n\n2\n\nflights |&gt; \n  select(dep_time, dep_delay, arr_time, arr_delay)\n\n# A tibble: 336,776 × 4\n   dep_time dep_delay arr_time arr_delay\n      &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;\n 1      517         2      830        11\n 2      533         4      850        20\n 3      542         2      923        33\n 4      544        -1     1004       -18\n 5      554        -6      812       -25\n 6      554        -4      740        12\n 7      555        -5      913        19\n 8      557        -3      709       -14\n 9      557        -3      838        -8\n10      558        -2      753         8\n# ℹ 336,766 more rows\n\nflights |&gt; \n  select(starts_with(\"dep\"), starts_with(\"arr\"))\n\n# A tibble: 336,776 × 4\n   dep_time dep_delay arr_time arr_delay\n      &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;\n 1      517         2      830        11\n 2      533         4      850        20\n 3      542         2      923        33\n 4      544        -1     1004       -18\n 5      554        -6      812       -25\n 6      554        -4      740        12\n 7      555        -5      913        19\n 8      557        -3      709       -14\n 9      557        -3      838        -8\n10      558        -2      753         8\n# ℹ 336,766 more rows\n\nflights |&gt;\n  select(dep_time:arr_delay, -contains(\"sched\"))\n\n# A tibble: 336,776 × 4\n   dep_time dep_delay arr_time arr_delay\n      &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;\n 1      517         2      830        11\n 2      533         4      850        20\n 3      542         2      923        33\n 4      544        -1     1004       -18\n 5      554        -6      812       -25\n 6      554        -4      740        12\n 7      555        -5      913        19\n 8      557        -3      709       -14\n 9      557        -3      838        -8\n10      558        -2      753         8\n# ℹ 336,766 more rows\n\n\n\n\n3\n\nflights |&gt; \n  select(dep_time, dep_time)\n\n# A tibble: 336,776 × 1\n   dep_time\n      &lt;int&gt;\n 1      517\n 2      533\n 3      542\n 4      544\n 5      554\n 6      554\n 7      555\n 8      557\n 9      557\n10      558\n# ℹ 336,766 more rows\n\n\n\n\n4\n\nvariables &lt;- c(\"year\", \"month\", \"day\", \"dep_delay\", \"arr_delay\")\n\nflights |&gt; \n  select(any_of(variables))\n\n# A tibble: 336,776 × 5\n    year month   day dep_delay arr_delay\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n 1  2013     1     1         2        11\n 2  2013     1     1         4        20\n 3  2013     1     1         2        33\n 4  2013     1     1        -1       -18\n 5  2013     1     1        -6       -25\n 6  2013     1     1        -4        12\n 7  2013     1     1        -5        19\n 8  2013     1     1        -3       -14\n 9  2013     1     1        -3        -8\n10  2013     1     1        -2         8\n# ℹ 336,766 more rows\n\n\n\n\n5\n\nflights |&gt; \n  select(contains(\"TIME\"))\n\n# A tibble: 336,776 × 6\n   dep_time sched_dep_time arr_time sched_arr_time air_time time_hour          \n      &lt;int&gt;          &lt;int&gt;    &lt;int&gt;          &lt;int&gt;    &lt;dbl&gt; &lt;dttm&gt;             \n 1      517            515      830            819      227 2013-01-01 05:00:00\n 2      533            529      850            830      227 2013-01-01 05:00:00\n 3      542            540      923            850      160 2013-01-01 05:00:00\n 4      544            545     1004           1022      183 2013-01-01 05:00:00\n 5      554            600      812            837      116 2013-01-01 06:00:00\n 6      554            558      740            728      150 2013-01-01 05:00:00\n 7      555            600      913            854      158 2013-01-01 06:00:00\n 8      557            600      709            723       53 2013-01-01 06:00:00\n 9      557            600      838            846      140 2013-01-01 06:00:00\n10      558            600      753            745      138 2013-01-01 06:00:00\n# ℹ 336,766 more rows\n\nflights |&gt; \n  select(contains(\"TIME\", ignore.case = FALSE))\n\n# A tibble: 336,776 × 0\n\n\n\n\n6\n\nflights |&gt;\n  rename(air_time_min = air_time) |&gt;\n  relocate(air_time_min)\n\n# A tibble: 336,776 × 19\n   air_time_min  year month   day dep_time sched_dep_time dep_delay arr_time\n          &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;\n 1          227  2013     1     1      517            515         2      830\n 2          227  2013     1     1      533            529         4      850\n 3          160  2013     1     1      542            540         2      923\n 4          183  2013     1     1      544            545        -1     1004\n 5          116  2013     1     1      554            600        -6      812\n 6          150  2013     1     1      554            558        -4      740\n 7          158  2013     1     1      555            600        -5      913\n 8           53  2013     1     1      557            600        -3      709\n 9          140  2013     1     1      557            600        -3      838\n10          138  2013     1     1      558            600        -2      753\n# ℹ 336,766 more rows\n# ℹ 11 more variables: sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,\n#   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;",
    "crumbs": [
      "Home",
      "R4DS",
      "Data transformation"
    ]
  },
  {
    "objectID": "r4ds_2nd_03.html#the-pipe",
    "href": "r4ds_2nd_03.html#the-pipe",
    "title": "Data transformation",
    "section": "The Pipe",
    "text": "The Pipe\n\nWhile both forms have their time and place, the pipe generally produces data analysis code that is easier to write and read.\n\n\nflights |&gt; \n  filter(dest == \"IAH\") |&gt; \n  mutate(speed = distance / air_time * 60) |&gt; \n  select(year:day, dep_time, carrier, flight, speed) |&gt; \n  arrange(desc(speed))\n\n# A tibble: 7,198 × 7\n    year month   day dep_time carrier flight speed\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt; &lt;chr&gt;    &lt;int&gt; &lt;dbl&gt;\n 1  2013     7     9      707 UA         226  522.\n 2  2013     8    27     1850 UA        1128  521.\n 3  2013     8    28      902 UA        1711  519.\n 4  2013     8    28     2122 UA        1022  519.\n 5  2013     6    11     1628 UA        1178  515.\n 6  2013     8    27     1017 UA         333  515.\n 7  2013     8    27     1205 UA        1421  515.\n 8  2013     8    27     1758 UA         302  515.\n 9  2013     9    27      521 UA         252  515.\n10  2013     8    28      625 UA         559  515.\n# ℹ 7,188 more rows",
    "crumbs": [
      "Home",
      "R4DS",
      "Data transformation"
    ]
  },
  {
    "objectID": "r4ds_2nd_03.html#groups",
    "href": "r4ds_2nd_03.html#groups",
    "title": "Data transformation",
    "section": "Groups",
    "text": "Groups\n\nSo far you’ve learned about functions that work with rows and columns. dplyr gets even more powerful when you add in the ability to work with groups.\n\n\ngroup_by\n\nUse group_by() to divide your dataset into groups meaningful for your analysis\n\n\nflights |&gt; \n  group_by(month)\n\n# A tibble: 336,776 × 19\n# Groups:   month [12]\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      517            515         2      830            819\n 2  2013     1     1      533            529         4      850            830\n 3  2013     1     1      542            540         2      923            850\n 4  2013     1     1      544            545        -1     1004           1022\n 5  2013     1     1      554            600        -6      812            837\n 6  2013     1     1      554            558        -4      740            728\n 7  2013     1     1      555            600        -5      913            854\n 8  2013     1     1      557            600        -3      709            723\n 9  2013     1     1      557            600        -3      838            846\n10  2013     1     1      558            600        -2      753            745\n# ℹ 336,766 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\n\n\nsummarize\n\nflights |&gt; \n  group_by(month) |&gt; \n  summarize(\n    avg_delay = mean(dep_delay)\n  )\n\n# A tibble: 12 × 2\n   month avg_delay\n   &lt;int&gt;     &lt;dbl&gt;\n 1     1        NA\n 2     2        NA\n 3     3        NA\n 4     4        NA\n 5     5        NA\n 6     6        NA\n 7     7        NA\n 8     8        NA\n 9     9        NA\n10    10        NA\n11    11        NA\n12    12        NA\n\nflights |&gt; \n  group_by(month) |&gt; \n  summarize(\n    avg_delay = mean(dep_delay, na.rm = TRUE)\n  )\n\n# A tibble: 12 × 2\n   month avg_delay\n   &lt;int&gt;     &lt;dbl&gt;\n 1     1     10.0 \n 2     2     10.8 \n 3     3     13.2 \n 4     4     13.9 \n 5     5     13.0 \n 6     6     20.8 \n 7     7     21.7 \n 8     8     12.6 \n 9     9      6.72\n10    10      6.24\n11    11      5.44\n12    12     16.6 \n\nflights |&gt; \n  group_by(month) |&gt; \n  summarize(\n    avg_delay = mean(dep_delay, na.rm = TRUE), \n    n = n()\n  )\n\n# A tibble: 12 × 3\n   month avg_delay     n\n   &lt;int&gt;     &lt;dbl&gt; &lt;int&gt;\n 1     1     10.0  27004\n 2     2     10.8  24951\n 3     3     13.2  28834\n 4     4     13.9  28330\n 5     5     13.0  28796\n 6     6     20.8  28243\n 7     7     21.7  29425\n 8     8     12.6  29327\n 9     9      6.72 27574\n10    10      6.24 28889\n11    11      5.44 27268\n12    12     16.6  28135\n\n\n\n\nslice_\n\nflights |&gt; \n  group_by(dest) |&gt; \n  slice_max(arr_delay, n = 1) |&gt;\n  relocate(dest)\n\n# A tibble: 108 × 19\n# Groups:   dest [105]\n   dest   year month   day dep_time sched_dep_time dep_delay arr_time\n   &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;\n 1 ABQ    2013     7    22     2145           2007        98      132\n 2 ACK    2013     7    23     1139            800       219     1250\n 3 ALB    2013     1    25      123           2000       323      229\n 4 ANC    2013     8    17     1740           1625        75     2042\n 5 ATL    2013     7    22     2257            759       898      121\n 6 AUS    2013     7    10     2056           1505       351     2347\n 7 AVL    2013     8    13     1156            832       204     1417\n 8 BDL    2013     2    21     1728           1316       252     1839\n 9 BGR    2013    12     1     1504           1056       248     1628\n10 BHM    2013     4    10       25           1900       325      136\n# ℹ 98 more rows\n# ℹ 11 more variables: sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,\n#   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\n\n\nGrouping by multiple variables\n\ndaily &lt;- flights |&gt;  \n  group_by(year, month, day)\n\n\ndaily_flights &lt;- daily |&gt; \n  summarize(n = n())\n\n`summarise()` has grouped output by 'year', 'month'. You can override using the\n`.groups` argument.\n\ndaily_flights &lt;- daily |&gt; \n  summarize(\n    n = n(), \n    .groups = \"drop_last\"\n  )\n\n\n\nUngrouping\n\ndaily |&gt; \n  ungroup()\n\n# A tibble: 336,776 × 19\n    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time\n   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;\n 1  2013     1     1      517            515         2      830            819\n 2  2013     1     1      533            529         4      850            830\n 3  2013     1     1      542            540         2      923            850\n 4  2013     1     1      544            545        -1     1004           1022\n 5  2013     1     1      554            600        -6      812            837\n 6  2013     1     1      554            558        -4      740            728\n 7  2013     1     1      555            600        -5      913            854\n 8  2013     1     1      557            600        -3      709            723\n 9  2013     1     1      557            600        -3      838            846\n10  2013     1     1      558            600        -2      753            745\n# ℹ 336,766 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\ndaily |&gt; \n  ungroup() |&gt;\n  summarize(\n    avg_delay = mean(dep_delay, na.rm = TRUE), \n    flights = n()\n  )\n\n# A tibble: 1 × 2\n  avg_delay flights\n      &lt;dbl&gt;   &lt;int&gt;\n1      12.6  336776\n\n\n\n\n.by\n\nflights |&gt; \n  summarize(\n    delay = mean(dep_delay, na.rm = TRUE), \n    n = n(),\n    .by = month\n  )\n\n# A tibble: 12 × 3\n   month delay     n\n   &lt;int&gt; &lt;dbl&gt; &lt;int&gt;\n 1     1 10.0  27004\n 2    10  6.24 28889\n 3    11  5.44 27268\n 4    12 16.6  28135\n 5     2 10.8  24951\n 6     3 13.2  28834\n 7     4 13.9  28330\n 8     5 13.0  28796\n 9     6 20.8  28243\n10     7 21.7  29425\n11     8 12.6  29327\n12     9  6.72 27574\n\nflights |&gt; \n  summarize(\n    delay = mean(dep_delay, na.rm = TRUE), \n    n = n(),\n    .by = c(origin, dest)\n  )\n\n# A tibble: 224 × 4\n   origin dest  delay     n\n   &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;int&gt;\n 1 EWR    IAH   11.8   3973\n 2 LGA    IAH    9.06  2951\n 3 JFK    MIA    9.34  3314\n 4 JFK    BQN    6.67   599\n 5 LGA    ATL   11.4  10263\n 6 EWR    ORD   14.6   6100\n 7 EWR    FLL   13.5   3793\n 8 LGA    IAD   16.7   1803\n 9 JFK    MCO   10.6   5464\n10 LGA    ORD   10.7   8857\n# ℹ 214 more rows\n\n\n\n\n연습문제 3.5.7\n\n1\n\nflights |&gt;\n  group_by(carrier) |&gt;\n  summarize(avg_dep_delay = mean(dep_delay, na.rm = TRUE)) |&gt;\n  arrange(desc(avg_dep_delay))\n\n# A tibble: 16 × 2\n   carrier avg_dep_delay\n   &lt;chr&gt;           &lt;dbl&gt;\n 1 F9              20.2 \n 2 EV              20.0 \n 3 YV              19.0 \n 4 FL              18.7 \n 5 WN              17.7 \n 6 9E              16.7 \n 7 B6              13.0 \n 8 VX              12.9 \n 9 OO              12.6 \n10 UA              12.1 \n11 MQ              10.6 \n12 DL               9.26\n13 AA               8.59\n14 AS               5.80\n15 HA               4.90\n16 US               3.78\n\n\n\n\n2\n\nflights |&gt; \n  group_by(dest) |&gt; \n  arrange(dest, desc(dep_delay)) |&gt;\n  slice_head(n = 5) |&gt;\n  relocate(dest, dep_delay)\n\n# A tibble: 517 × 19\n# Groups:   dest [105]\n   dest  dep_delay  year month   day dep_time sched_dep_time arr_time\n   &lt;chr&gt;     &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;    &lt;int&gt;\n 1 ABQ         142  2013    12    14     2223           2001      133\n 2 ABQ         139  2013    12    17     2220           2001      120\n 3 ABQ         125  2013     7    30     2212           2007       57\n 4 ABQ         125  2013     9     2     2212           2007       48\n 5 ABQ         119  2013     7    23     2206           2007      116\n 6 ACK         219  2013     7    23     1139            800     1250\n 7 ACK         138  2013     7     2     1018            800     1119\n 8 ACK         117  2013     7     4      957            800     1106\n 9 ACK         101  2013     5    30     1321           1140     1419\n10 ACK         100  2013     6    24      940            800     1111\n# ℹ 507 more rows\n# ℹ 11 more variables: sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;,\n#   flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\n\n\n3\n\nflights |&gt;\n  group_by(hour) |&gt;\n  summarize(avg_dep_delay = mean(dep_delay, na.rm = TRUE)) |&gt;\n  ggplot(aes(x = hour, y = avg_dep_delay)) + \n  geom_smooth()\n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n\n\nWarning: Removed 1 row containing non-finite outside the scale range\n(`stat_smooth()`).\n\n\n\n\n\n\n\n\n\n\n\n4\n\nflights |&gt; \n  slice_min(dep_delay, n = -5) |&gt;\n  relocate(dep_delay)\n\n# A tibble: 336,776 × 19\n   dep_delay  year month   day dep_time sched_dep_time arr_time sched_arr_time\n       &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;    &lt;int&gt;          &lt;int&gt;\n 1       -43  2013    12     7     2040           2123       40           2352\n 2       -33  2013     2     3     2022           2055     2240           2338\n 3       -32  2013    11    10     1408           1440     1549           1559\n 4       -30  2013     1    11     1900           1930     2233           2243\n 5       -27  2013     1    29     1703           1730     1947           1957\n 6       -26  2013     8     9      729            755     1002            955\n 7       -25  2013    10    23     1907           1932     2143           2143\n 8       -25  2013     3    30     2030           2055     2213           2250\n 9       -24  2013     3     2     1431           1455     1601           1631\n10       -24  2013     5     5      934            958     1225           1309\n# ℹ 336,766 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\nflights |&gt; \n  slice_min(dep_delay, n = 5) |&gt;\n  relocate(dep_delay)\n\n# A tibble: 5 × 19\n  dep_delay  year month   day dep_time sched_dep_time arr_time sched_arr_time\n      &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;    &lt;int&gt;          &lt;int&gt;\n1       -43  2013    12     7     2040           2123       40           2352\n2       -33  2013     2     3     2022           2055     2240           2338\n3       -32  2013    11    10     1408           1440     1549           1559\n4       -30  2013     1    11     1900           1930     2233           2243\n5       -27  2013     1    29     1703           1730     1947           1957\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\nflights |&gt; \n  slice_max(dep_delay, n = -5) |&gt;\n  relocate(dep_delay)\n\n# A tibble: 336,776 × 19\n   dep_delay  year month   day dep_time sched_dep_time arr_time sched_arr_time\n       &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;    &lt;int&gt;          &lt;int&gt;\n 1      1301  2013     1     9      641            900     1242           1530\n 2      1137  2013     6    15     1432           1935     1607           2120\n 3      1126  2013     1    10     1121           1635     1239           1810\n 4      1014  2013     9    20     1139           1845     1457           2210\n 5      1005  2013     7    22      845           1600     1044           1815\n 6       960  2013     4    10     1100           1900     1342           2211\n 7       911  2013     3    17     2321            810      135           1020\n 8       899  2013     6    27      959           1900     1236           2226\n 9       898  2013     7    22     2257            759      121           1026\n10       896  2013    12     5      756           1700     1058           2020\n# ℹ 336,766 more rows\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\nflights |&gt; \n  slice_max(dep_delay, n = 5) |&gt;\n  relocate(dep_delay)\n\n# A tibble: 5 × 19\n  dep_delay  year month   day dep_time sched_dep_time arr_time sched_arr_time\n      &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;    &lt;int&gt;          &lt;int&gt;\n1      1301  2013     1     9      641            900     1242           1530\n2      1137  2013     6    15     1432           1935     1607           2120\n3      1126  2013     1    10     1121           1635     1239           1810\n4      1014  2013     9    20     1139           1845     1457           2210\n5      1005  2013     7    22      845           1600     1044           1815\n# ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,\n#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,\n#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;\n\n\n\n\n6\n\ndf &lt;- tibble(\n  x = 1:5,\n  y = c(\"a\", \"b\", \"a\", \"a\", \"b\"),\n  z = c(\"K\", \"K\", \"L\", \"L\", \"K\")\n)\ndf |&gt;\n  group_by(y)\n\n# A tibble: 5 × 3\n# Groups:   y [2]\n      x y     z    \n  &lt;int&gt; &lt;chr&gt; &lt;chr&gt;\n1     1 a     K    \n2     2 b     K    \n3     3 a     L    \n4     4 a     L    \n5     5 b     K    \n\ndf |&gt;\n  arrange(y)\n\n# A tibble: 5 × 3\n      x y     z    \n  &lt;int&gt; &lt;chr&gt; &lt;chr&gt;\n1     1 a     K    \n2     3 a     L    \n3     4 a     L    \n4     2 b     K    \n5     5 b     K    \n\ndf |&gt;\n  group_by(y) |&gt;\n  summarize(mean_x = mean(x))\n\n# A tibble: 2 × 2\n  y     mean_x\n  &lt;chr&gt;  &lt;dbl&gt;\n1 a       2.67\n2 b       3.5 \n\ndf |&gt;\n  group_by(y, z) |&gt;\n  summarize(mean_x = mean(x))\n\n`summarise()` has grouped output by 'y'. You can override using the `.groups`\nargument.\n\n\n# A tibble: 3 × 3\n# Groups:   y [2]\n  y     z     mean_x\n  &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;\n1 a     K        1  \n2 a     L        3.5\n3 b     K        3.5\n\ndf |&gt;\n  group_by(y, z) |&gt;\n  summarize(mean_x = mean(x), .groups = \"drop\")\n\n# A tibble: 3 × 3\n  y     z     mean_x\n  &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;\n1 a     K        1  \n2 a     L        3.5\n3 b     K        3.5\n\ndf |&gt;\n  group_by(y, z) |&gt;\n  summarize(mean_x = mean(x))\n\n`summarise()` has grouped output by 'y'. You can override using the `.groups`\nargument.\n\n\n# A tibble: 3 × 3\n# Groups:   y [2]\n  y     z     mean_x\n  &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;\n1 a     K        1  \n2 a     L        3.5\n3 b     K        3.5\n\ndf |&gt;\n  group_by(y, z) |&gt;\n  mutate(mean_x = mean(x))\n\n# A tibble: 5 × 4\n# Groups:   y, z [3]\n      x y     z     mean_x\n  &lt;int&gt; &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;\n1     1 a     K        1  \n2     2 b     K        3.5\n3     3 a     L        3.5\n4     4 a     L        3.5\n5     5 b     K        3.5",
    "crumbs": [
      "Home",
      "R4DS",
      "Data transformation"
    ]
  }
]